"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[329],{8329:(Rt,y,c)=>{c.r(y),c.d(y,{WorkspaceModule:()=>$t});var l=c(6895),s=c(4006),f=c(1206),x=c(9132),t=c(4650),p=c(9383),h=c(4288),m=c(2229),E=c(7),Z=c(2348),B=c(1135);let I=(()=>{class n{constructor(){this.filterString$$=new B.X(""),this.filterInputValue$=this.filterString$$.asObservable()}updateFilterString(e){this.filterString$$.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var O=c(7579);let M=(()=>{class n{constructor(){this.taskData$$=new O.x,this.taskUserId$$=new O.x,this.openEditTaskModal$$=new O.x,this.taskData$=this.taskData$$.asObservable(),this.taskUserId$=this.taskUserId$$.asObservable(),this.openEditTaskModal$=this.openEditTaskModal$$.asObservable()}getTaskData(e){return this.taskData$$.next(e)}getTaskIdUsers(e,o){return this.taskUserId$$.next({id:e,users:o})}openEditTaskModal(e){return this.openEditTaskModal$$.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var L=c(6616),g=c(7044),D=c(1811),C=c(3325),_=c(9562),b=c(7423),F=c(6174),$=c(5681),v=c(4262);function Y(n,i){1&n&&(t.TgZ(0,"div",6),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BOARD.REQUIRED_INPUT")))}function R(n,i){1&n&&(t.TgZ(0,"div",6),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BOARD.REQUIRED_MAX_VALUE")))}let Q=(()=>{class n{constructor(e,o){this.translate=e,this.languageService=o,this.createColumn=new t.vpe,this.closeOpen=new t.vpe,this.modalForm=new s.cw({modalFormInput:new s.NI("",[s.kI.required,s.kI.maxLength(15)])})}ngOnInit(){this.languageService.language$.subscribe(e=>this.translate.use(e))}onSubmit(){this.createColumn.emit(this.modalForm.value.modalFormInput)}onCloseModalWindow(){this.closeOpen.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.sK),t.Y36(h.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-column-modal"]],outputs:{createColumn:"createColumn",closeOpen:"closeOpen"},decls:10,vars:11,consts:[[1,"create-column"],["autofocus","",1,"create-column__form",3,"formGroup","ngSubmit"],["formControlName","modalFormInput","type","text","autofocus","",1,"create-column__input",3,"placeholder"],["class","alert",4,"ngIf"],["type","submit",1,"create-column__button"],["nz-icon","",1,"create-column__close-button",3,"nzType","nzTheme","click"],[1,"alert"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(2,"input",2),t.ALo(3,"translate"),t.YNc(4,Y,3,3,"div",3),t.YNc(5,R,3,3,"div",3),t.TgZ(6,"button",4),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"span",5),t.NdJ("click",function(){return o.onCloseModalWindow()}),t.qZA()()),2&e){let r,a;t.xp6(1),t.Q6J("formGroup",o.modalForm),t.xp6(1),t.s9C("placeholder",t.lcZ(3,7,"COLUMN_MODAL.TITLE")),t.xp6(2),t.Q6J("ngIf",null==(r=o.modalForm.get("modalFormInput"))||null==r.errors?null:r.errors.required),t.xp6(1),t.Q6J("ngIf",null==(a=o.modalForm.get("modalFormInput"))||null==a.errors?null:a.errors.maxlength),t.xp6(2),t.Oqu(t.lcZ(8,9,"COLUMN_MODAL.BUTTON")),t.xp6(2),t.Q6J("nzType","close-circle")("nzTheme","outline")}},dependencies:[l.O5,s._Y,s.Fj,s.JJ,s.JL,g.w,b.Ls,s.sg,s.u,p.X$],styles:[".alert[_ngcontent-%COMP%]{color:#fff;font-size:.8rem;margin-right:auto}.create-column[_ngcontent-%COMP%]{padding:40px 15px 30px;width:400px;height:250px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:5px 5px 10px #00000080;border-radius:15px;background:rgba(255,255,255,.1);overflow:hidden;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);margin:0 auto}.create-column__form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;height:180px}.create-column__close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:1.5rem;padding:10px}.create-column__close-button[_ngcontent-%COMP%]:hover{cursor:pointer}.create-column__input[_ngcontent-%COMP%]{border-radius:15px;outline:none;border:none;padding:5px 5px 5px 20px;width:100%;margin:0 auto;color:#fff;font-size:1.5rem;background:rgba(255,255,255,.1);border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:20px 20px 50px #00000080}.create-column__input[_ngcontent-%COMP%]::placeholder{color:#ffffff4d;font-size:1.2rem}.create-column__button[_ngcontent-%COMP%]{padding:8px 20px;margin-top:auto;background:#ffffff;outline:none;color:#000;border:1px solid white;border-radius:20px;text-decoration:none;font-weight:500;box-shadow:0 5px 15px #00000080}.create-column__button[_ngcontent-%COMP%]:hover{cursor:pointer;background:#e6e6e6}@media (max-width: 400px){.create-column[_ngcontent-%COMP%]{max-width:320px}}"]}),n})(),q=(()=>{class n{constructor(e,o,r){this.translate=e,this.languageService=o,this.htttpService=r,this.columnId="",this.boardId="",this.createColumn=new t.vpe,this.isModalTaskOpen=new t.vpe,this.createTask=new t.vpe,this.modalForm=new s.cw({title:new s.NI("",[s.kI.required,s.kI.maxLength(15)]),description:new s.NI("",[s.kI.required,s.kI.maxLength(100)])})}ngOnInit(){this.languageService.language$.subscribe(e=>this.translate.use(e)),this.htttpService.getAllUsers().subscribe(e=>{const o=localStorage.getItem("login");this.userId=e.filter(r=>r.login===o)[0]._id}),this.htttpService.getAllTasks(this.boardId,this.columnId).subscribe(e=>{this.taskCount=e.length})}onSubmit(){this.htttpService.createTask(this.boardId,this.columnId,{title:this.modalForm.value.title,order:this.taskCount+1,description:this.modalForm.value.description,userId:this.userId,users:[]}).subscribe(e=>{this.createTask.emit(e),this.isModalTaskOpen.emit(!1)})}onClose(){this.isModalTaskOpen.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.sK),t.Y36(h.F),t.Y36(m.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-task-modal"]],inputs:{columnId:"columnId",boardId:"boardId"},outputs:{createColumn:"createColumn",isModalTaskOpen:"isModalTaskOpen",createTask:"createTask"},decls:10,vars:12,consts:[[1,"modal"],["autofocus","",1,"modal__form",3,"formGroup","ngSubmit"],["type","text","formControlName","title","autofocus","",1,"modal__input",3,"placeholder"],["type","text","formControlName","description","autofocus","",1,"modal__input",3,"placeholder"],["type","submit",1,"modal__button"],["nz-icon","",1,"modal__close-button",3,"nzType","nzTheme","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(2,"input",2),t.ALo(3,"translate"),t._UZ(4,"input",3),t.ALo(5,"translate"),t.TgZ(6,"button",4),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"span",5),t.NdJ("click",function(){return o.onClose()}),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.modalForm),t.xp6(1),t.s9C("placeholder",t.lcZ(3,6,"TASK_MODAL.TITLE")),t.xp6(2),t.s9C("placeholder",t.lcZ(5,8,"TASK_MODAL.DESCRIPTION")),t.xp6(3),t.Oqu(t.lcZ(8,10,"TASK_MODAL.BUTTON")),t.xp6(2),t.Q6J("nzType","close-circle")("nzTheme","outline"))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,g.w,b.Ls,s.sg,s.u,p.X$],styles:[".modal[_ngcontent-%COMP%]{padding:40px 15px 30px;width:400px;height:250px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:rgba(255,255,255,.1);overflow:hidden;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);margin:0 auto}.modal__form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;height:180px;gap:20px}.modal__close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:1.5rem;padding:10px}.modal__close-button[_ngcontent-%COMP%]:hover{cursor:pointer}.modal__input[_ngcontent-%COMP%]{border-radius:15px;outline:none;border:none;padding:5px 5px 5px 20px;width:100%;margin:0 auto;color:#fff;font-size:1.5rem;background:rgba(255,255,255,.1);border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:5px 5px 10px #00000080}.modal__input[_ngcontent-%COMP%]::placeholder{color:#ffffff4d;font-size:1.2rem}.modal__button[_ngcontent-%COMP%]{padding:8px 20px;margin-top:auto;background:#ffffff;outline:none;color:#000;border:1px solid white;border-radius:20px;text-decoration:none;font-weight:500;box-shadow:0 5px 15px #00000080}.modal__button[_ngcontent-%COMP%]:hover{cursor:pointer;background:#e6e6e6}@media (max-width: 400px){.modal[_ngcontent-%COMP%]{max-width:320px}}"]}),n})(),z=(()=>{class n{constructor(){this.commentsCounter=new O.x,this.counter=this.commentsCounter.asObservable()}updateCounter(e){this.commentsCounter.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var j=c(48),k=c(8922);function K(n,i){if(1&n&&(t.TgZ(0,"span"),t._UZ(1,"app-user-logo",14),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("userName",e)}}const G=function(){return{backgroundColor:"#1890ff"}};let H=(()=>{class n{constructor(e,o,r,a){this.translate=e,this.httpService=o,this.editTaskService=r,this.commentsCounterService=a,this.deleteTask=new t.vpe,this.usersTask=[],this.commentsCount=0,this.onDelete=()=>{this.httpService.deleteTask(this.task.boardId,this.task.columnId,this.task._id).subscribe(d=>this.deleteTask.emit(d))}}ngOnInit(){this.httpService.getTask(this.task.boardId,this.task.columnId,this.task._id).subscribe(e=>{this.usersTask=e.users.filter(o=>!this.usersTask.includes(o))}),this.editTaskService.taskUserId$.subscribe(e=>{this.task._id===e.id&&(this.usersTask=e.users)}),this.httpService.getPointsByTaskId(this.task._id).subscribe(e=>{this.commentsCount=e.length}),this.commentsCounterService.counter.subscribe(e=>{this.task._id===e.taskId&&(this.commentsCount=e.count)})}clickTask(e){this.editTaskService.getTaskData(e),this.editTaskService.openEditTaskModal(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.sK),t.Y36(m.f),t.Y36(M),t.Y36(z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task"]],inputs:{task:"task"},outputs:{deleteTask:"deleteTask"},decls:18,vars:10,consts:[[1,"task"],[1,"task__info",3,"click"],[1,"task__title"],[1,"task__description"],[1,"task__user"],[4,"ngFor","ngForOf"],["nzSize","small",1,"task__comments",3,"nzCount","nzStyle"],[1,"task__comments"],["nz-icon","","nzType","comment","nzTheme","outline"],["nz-dropdown","","nzTrigger","click",1,"task__close-button",3,"nzDropdownMenu","nzPlacement"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable","",1,"dropdown-menu"],["nz-menu-item",""],[3,"onDelete","modalText"],[3,"userName"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return o.clickTask(o.task)}),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.TgZ(4,"p",3),t._uU(5),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,K,2,1,"span",5),t.qZA()(),t.TgZ(8,"nz-badge",6)(9,"a",7),t._UZ(10,"span",8),t.qZA()(),t.TgZ(11,"button",9),t._uU(12," . . . "),t.qZA(),t.TgZ(13,"nz-dropdown-menu",null,10)(15,"ul",11)(16,"li",12),t._UZ(17,"app-confirmation-modal",13),t.qZA()()()()),2&e){const r=t.MAs(14);t.xp6(3),t.Oqu(o.task.title),t.xp6(2),t.hij(" ",o.task.description.length>100?o.task.description.slice(0,100)+"...":o.task.description," "),t.xp6(2),t.Q6J("ngForOf",o.usersTask),t.xp6(1),t.Q6J("nzCount",o.commentsCount)("nzStyle",t.DdM(9,G)),t.xp6(3),t.Q6J("nzDropdownMenu",r)("nzPlacement","bottomRight"),t.xp6(6),t.Q6J("onDelete",o.onDelete)("modalText","CONFIRMATION_FORM.TEXT_DELETE_TASK")}},dependencies:[l.sg,j.x7,g.w,C.wO,C.r9,_.cm,_.RR,b.Ls,v.Y,k.X],styles:["*[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding:0}.task[_ngcontent-%COMP%]{padding:15px;width:96%;flex-grow:0;flex-shrink:0;text-align:left;box-shadow:5px 5px 10px #00000080;border-radius:15px;background:rgba(255,255,255,.1);display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}@media (max-width: 768px){.task[_ngcontent-%COMP%]{padding:8px}}.task[_ngcontent-%COMP%]   .task__info[_ngcontent-%COMP%]{width:100%}.task[_ngcontent-%COMP%]   .task__user[_ngcontent-%COMP%]{display:flex;gap:5px;flex-wrap:wrap;color:#000}.task[_ngcontent-%COMP%]   .task__user[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{border-radius:15px;background-color:#bda0c480;display:flex;align-items:center;width:30px;justify-content:center;height:30px;color:#fff;border:2px ridge #ffefef;text-shadow:1px 1px black;border-right-style:inset}.task__title[_ngcontent-%COMP%]{font-size:1.4rem;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#fff;min-height:20px;height:auto;word-wrap:break-word;padding:0 30px 0 15px;text-align:center}@media (max-width: 768px){.task__title[_ngcontent-%COMP%]{margin-bottom:5px}}.task__description[_ngcontent-%COMP%]{font-size:1rem;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#fff;text-align:justify;border-radius:10px;padding-left:5px;min-height:20px;height:auto;word-wrap:break-word}.task__close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:1rem;padding:10px;background:none;border:none}.task__close-button[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.05)}.task__comments[_ngcontent-%COMP%]{font-size:1.5rem;align-self:flex-end}@media (max-width: 768px){.task__comments[_ngcontent-%COMP%]{margin-right:5px}}a[_ngcontent-%COMP%]{color:#fff}  .dropdown-menu{background-color:transparent;box-shadow:5px 5px 10px #00000080;border-radius:15px;background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}  .dropdown-menu .ant-dropdown-menu-item,   .dropdown-menu .ant-dropdown-menu-item:hover{border-radius:15px;background-color:transparent}"]}),n})(),P=(()=>{class n{constructor(){this.userName$$=new O.x,this.userName$=this.userName$$.asObservable()}setUser(e){this.userName$$.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",5),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.clickUser(a))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e," ")}}let A=(()=>{class n{constructor(e,o,r){this.translate=e,this.languageService=o,this.setUserServices=r,this.userName=null}ngOnInit(){this.languageService.language$.subscribe(e=>this.translate.use(e))}clickUser(e){this.setUserServices.setUser(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.sK),t.Y36(h.F),t.Y36(P))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-users-form"]],inputs:{userName:"userName"},decls:6,vars:2,consts:[[1,"user-add"],["nz-dropdown","","nz-icon","","nzType","user-add","nzTheme","outline",3,"nzDropdownMenu"],["menu","nzDropdownMenu"],[1,"users-list"],["class","user-link",3,"click",4,"ngFor","ngForOf"],[1,"user-link",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"nz-dropdown-menu",null,2)(4,"ul",3),t.YNc(5,X,2,1,"li",4),t.qZA()()()),2&e){const r=t.MAs(3);t.xp6(1),t.Q6J("nzDropdownMenu",r),t.xp6(4),t.Q6J("ngForOf",o.userName)}},dependencies:[l.sg,g.w,_.cm,_.RR,b.Ls],styles:[".input[_ngcontent-%COMP%]{width:371px;height:40px;border-radius:10px;padding:10px;outline:none;border:1px solid #fff;color:#fff;background-color:#7a3c8680;text-shadow:2px 1px #000}.user-add[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:85%;position:relative;top:2px;color:#fff;font-size:30px}.users-list[_ngcontent-%COMP%]{position:absolute;top:5px;min-width:250px;width:100%;color:#fff;font-size:20px;list-style-type:none;padding:2%;background-color:#1e96e6cc;border-radius:0 5px 0 30px;cursor:pointer;max-height:300px;min-height:50px;height:auto;overflow-x:auto}.users-list[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]{width:100%;padding:3% 2%}.users-list[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]:hover{background-color:#5bcf9eb3;border-radius:0 25px}[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:hsla(0deg,0%,100%,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsla(0deg,0%,100%,.5);border-radius:10px;width:2px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"]}),n})();var W=c(6518);let V=(()=>{class n{constructor(e){this.httpService=e,this.userName="",this.userId="",this.message=""}ngOnInit(){this.userId=this.comment.title.split("&")[1],this.message=this.comment.title.split("&")[0],this.httpService.getAllUsers().subscribe(e=>{this.userName=e.find(o=>o._id===this.userId).name})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comment"]],inputs:{comment:"comment"},decls:5,vars:2,consts:[[1,"comment"],[1,"comment__user"],[3,"userName"],[1,"comment__message"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-user-logo",2),t.qZA(),t.TgZ(3,"p",3),t._uU(4),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("userName",o.userName),t.xp6(2),t.Oqu(o.message))},dependencies:[k.X],styles:[".comment[_ngcontent-%COMP%]{color:#fff;width:100%}.comment__user[_ngcontent-%COMP%]{margin-bottom:5px;width:30px}.comment__user-logo[_ngcontent-%COMP%]{background:#161643;color:#fff;border-radius:100%;padding:5px;margin-right:5px;display:inline-flex;height:30px;width:30px;align-items:center;justify-content:center}.comment__message[_ngcontent-%COMP%]{color:#000;background-color:#ffffff80;border-radius:5px;padding:5px;width:calc(100% - 40px);margin-left:30px;margin-top:-10px;word-break:break-all;text-align:left}[_nghost-%COMP%]{width:100%}"]}),n})();function tt(n,i){1&n&&t._UZ(0,"app-comment",6),2&n&&t.Q6J("comment",i.$implicit)}let et=(()=>{class n{constructor(e,o,r,a){this.httpService=e,this.translate=o,this.authService=r,this.commentsCounterService=a,this.userName="",this.comments=[],this.userId="",this.message="",this.commentForm=new s.cw({message:new s.NI("",s.kI.required)})}ngOnInit(){this.authService.userName$.subscribe(e=>{this.userName=e}),this.authService.userId$.subscribe(e=>{this.userId=e}),this.httpService.getPointsByTaskId(this.task._id).subscribe(e=>{this.comments=e})}onSubmit(){this.httpService.createPoint({title:`${this.commentForm.value.message}&${this.userId}`,taskId:this.task._id,boardId:this.task.boardId,done:!1}).subscribe(e=>{this.comments.push({title:e.title,taskId:e.taskId,boardId:e.boardId,done:!1,_id:e._id}),this.commentsCounterService.updateCounter({taskId:e.taskId,count:this.comments.length})}),this.commentForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.f),t.Y36(p.sK),t.Y36(W.e),t.Y36(z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comments-block"]],inputs:{task:"task"},decls:7,vars:6,consts:[[1,"comment-block"],[1,"comment-block__comments"],[3,"comment",4,"ngFor","ngForOf"],[1,"comment-block__form",3,"formGroup","ngSubmit"],[3,"userName"],["type","text","formControlName","message",1,"comment-block__input",3,"placeholder"],[3,"comment"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,tt,1,1,"app-comment",2),t.qZA(),t.TgZ(3,"form",3),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(4,"app-user-logo",4)(5,"input",5),t.ALo(6,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",o.comments),t.xp6(1),t.Q6J("formGroup",o.commentForm),t.xp6(1),t.Q6J("userName",o.userName),t.xp6(1),t.s9C("placeholder",t.lcZ(6,4,"COMMENTS.PLACEHOLDER")))},dependencies:[l.sg,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,k.X,V,p.X$],styles:[".comment-block__input[_ngcontent-%COMP%]{background:none;border:1px solid #e2e2e2;border-radius:20px;padding:4px 8px 4px 4px;outline:none;text-indent:5px}.comment-block__input[_ngcontent-%COMP%]::placeholder{color:#e2e2e2;margin-left:5px;padding-right:5px;text-indent:5px}.comment-block__form[_ngcontent-%COMP%]{color:#fff;display:flex;margin-top:30px;align-items:center}[_nghost-%COMP%]{width:100%}"]}),n})();function nt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",14)(1,"app-user-logo",15),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.removeUserTask(a))}),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("userName",e)}}function ot(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"span",3),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closeEditTask())}),t.qZA(),t.TgZ(3,"div",4),t._UZ(4,"app-add-users-form",5),t.TgZ(5,"div",6),t.YNc(6,nt,2,1,"div",7),t.qZA()(),t.TgZ(7,"form",8),t._UZ(8,"input",9),t.TgZ(9,"textarea",10),t._uU(10,"      "),t.qZA(),t.TgZ(11,"button",11),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.editTask())}),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"div",12),t._UZ(15,"app-comments-block",13),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("userName",e.task.users),t.xp6(2),t.Q6J("ngForOf",e.users),t.xp6(1),t.Q6J("formGroup",e.editFormTask),t.xp6(1),t.s9C("value",e.task.title),t.xp6(1),t.s9C("value",e.task.description),t.xp6(3),t.Oqu(t.lcZ(13,7,"TASK.SAVE")),t.xp6(3),t.Q6J("task",e.task)}}let rt=(()=>{class n{constructor(e,o,r){this.editTaskService=e,this.httpService=o,this.setUserServices=r,this.openEditTaskModal=null,this.users=[]}ngOnInit(){this.editTaskService.taskData$.subscribe(e=>{this.task=e,this.editFormTask=new s.cw({title:new s.NI(this.task?.title),description:new s.NI(this.task?.description)}),this.users=[],this.httpService.getTask(this.task.boardId,this.task.columnId,this.task._id).subscribe(o=>{this.users=o.users})}),this.editTaskService.openEditTaskModal$.subscribe(e=>{this.openEditTaskModal=e}),this.setUserServices.userName$.subscribe(e=>this.users.includes(e)?this.users:this.users.push(e))}editTask(){return this.httpService.updateTask(this.task.boardId,this.task.columnId,this.task._id,{title:this.editFormTask.value.title,order:this.task.order,description:this.editFormTask.value.description,columnId:this.task.columnId,userId:this.task.userId,users:this.users}).subscribe(o=>{this.editTaskService.getTaskIdUsers(o._id,o.users),this.editTaskService.getTaskData(o)}),this.editTaskService.openEditTaskModal(!1)}closeEditTask(){return this.editTaskService.openEditTaskModal(!1),this.editFormTask.reset()}removeUserTask(e){return this.users=this.users.filter(o=>o!==e),this.users}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M),t.Y36(m.f),t.Y36(P))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-task-modal"]],decls:1,vars:1,consts:[["class","wrapper-edit-modal",4,"ngIf"],[1,"wrapper-edit-modal"],[1,"edit-modal"],["type","button","nz-icon","","nzType","close","nzTheme","outline",1,"btn-close",3,"click"],[1,"wrapper-add-user"],[3,"userName"],[1,"users"],["class","user",4,"ngFor","ngForOf"],[1,"form-modal",3,"formGroup"],["name","description","formControlName","title","type","text",1,"input-edit",3,"value"],["name","description","wrap","soft","cols","1","rows","5","formControlName","description","type","text",1,"input-edit",3,"value"],["type","button",1,"btn-save",3,"click"],[1,"comments"],[3,"task"],[1,"user"],[3,"userName","click"]],template:function(e,o){1&e&&t.YNc(0,ot,16,9,"div",0),2&e&&t.Q6J("ngIf",o.openEditTaskModal)},dependencies:[l.sg,l.O5,s._Y,s.Fj,s.JJ,s.JL,g.w,b.Ls,s.sg,s.u,k.X,A,et,p.X$],styles:['.wrapper-edit-modal[_ngcontent-%COMP%]{max-width:100vw;width:100%;height:100vh;position:absolute;top:0;left:0;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);overflow-x:auto;width:100vw;height:calc(100vh - 80px);z-index:10}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:absolute;top:20%;color:#000;padding:15px 10px 20px;background-color:#ffffff4d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:10px;max-width:680px;min-width:280px;width:calc(100vw - 300px);position:relative;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);box-shadow:20px 20px 50px #00000080;background:rgba(255,255,255,.1);margin:0 auto}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;border-radius:20px;color:#fff;border:2px solid #fff;cursor:pointer;transition:all 1s;padding:5px;font-size:20px}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{border:3px solid #fff;transition:all .3s}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:90%;gap:10px}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .input-edit[_ngcontent-%COMP%]{width:100%;border-radius:10px;padding:5px 8px;outline:none;border:1px solid #fff;min-height:20px;height:auto;word-wrap:break-word;background:rgba(255,255,255,.03);font-size:15px;line-height:1.3rem;color:#fff;border:1px solid rgba(255,255,255,.5);resize:none}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{width:150px;border-radius:10px;background-color:#40a9ff;color:#fff;cursor:pointer;border:0;padding:5px 0}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{background-color:#67b9fc;transition:all .5s}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .input-user[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:10px;outline:none;border:1px solid #fff;color:#fff;background-color:#7a3c8666;text-shadow:2px 1px #000}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%], .wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:50%;display:flex;gap:5px;justify-content:center;align-items:center;color:#fff;cursor:pointer}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .btn-delete-user[_ngcontent-%COMP%], .wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .btn-delete-user[_ngcontent-%COMP%]{border-radius:15px;background-color:#00ccff80;color:#fff;border:1px outset #fff;margin-left:40px;cursor:pointer;padding:0;font-size:20px}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .btn-delete-user[_ngcontent-%COMP%]:hover, .wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .btn-delete-user[_ngcontent-%COMP%]:hover{border:2px inset #fff;transform:translate(1px,1px);transition:all 1s}.wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .wrapper-edit-modal[_ngcontent-%COMP%]   .edit-modal[_ngcontent-%COMP%]   .form-modal[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex-direction:column}[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:hsla(0deg,0%,100%,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsla(0deg,0%,100%,.5);border-radius:10px;width:2px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.add-user[_ngcontent-%COMP%]{font-size:40px;color:#fff}.wrapper-add-user[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:85%;margin:3% auto}.users-list[_ngcontent-%COMP%]{position:absolute;top:5px;min-width:250px;width:100%;color:#fff;font-size:20px;list-style-type:none;padding:2%;background-color:#1e96e6cc;border-radius:0 25px;cursor:pointer}.users-list[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]{width:100%;padding:2%}.users-list[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]:hover{background-color:#5bcf9eb3;border-radius:0 25px}.users[_ngcontent-%COMP%]{display:flex;padding:5px 10px;gap:5px;height:40px;align-items:center}[_nghost-%COMP%]     .user-logo{width:30px;height:30px;position:relative;transition:all .4s}[_nghost-%COMP%]     .user-logo:hover{background:#161643;color:#161643;transition:all .4s}[_nghost-%COMP%]     .user-logo:hover:after{position:absolute;content:"";top:5px;background:rgb(255,255,255);width:2px;height:20px;transform:rotate(45deg);transition:all .4s}[_nghost-%COMP%]     .user-logo:hover:before{position:absolute;content:"";top:5px;background:rgb(255,255,255);width:2px;height:20px;transform:rotate(45deg);transform:rotate(314deg);transition:all .4s}.comments[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-start;padding:30px}']}),n})();var it=c(8372),st=c(1884);let at=(()=>{class n{constructor(e,o){this.filterService=e,this.translate=o}ngOnInit(){this.filterForm=new s.cw({filter:new s.NI("",[])}),this.filterForm.get("filter").valueChanges.pipe((0,it.b)(800),(0,st.x)()).subscribe(e=>{this.filterService.updateFilterString(e.toLowerCase().trim())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I),t.Y36(p.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-filter-window"]],decls:6,vars:4,consts:[[1,"filter"],[1,"filter__title"],[1,"filter__form",3,"formGroup"],["type","text","formControlName","filter",1,"filter__input"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",2),t._UZ(5,"input",3),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"FILTER.FILTER")),t.xp6(2),t.Q6J("formGroup",o.filterForm))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,p.X$],styles:[".filter[_ngcontent-%COMP%]{color:#fff;position:absolute;right:20px;top:140px;z-index:50;padding:10px;width:min(50%,300px);box-shadow:20px 20px 50px #00000080;border-radius:15px;background:hsla(0deg,0%,100%,.1);display:flex;flex-direction:column;justify-content:center;align-items:center;border:none;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}@media (max-width: 768px){.filter[_ngcontent-%COMP%]{right:10px;top:95px;width:min(70%,300px)}}.filter__title[_ngcontent-%COMP%]{color:#fff}.filter__input[_ngcontent-%COMP%]{background:none;outline:none;border:1px solid white;border-radius:15px;padding:5px 5px 5px 15px}"]}),n})(),ct=(()=>{class n{transform(e,o){if(e){const r=[...e];return 0===o.length?e:r.filter(a=>(a.title+a.description).toLowerCase().includes(o))}return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"taskFilter",type:n,pure:!0}),n})();function dt(n,i){1&n&&(t.TgZ(0,"div",3),t._UZ(1,"nz-spin",4),t.qZA())}function lt(n,i){1&n&&(t.TgZ(0,"nz-result",5),t.ALo(1,"translate"),t.TgZ(2,"div",6)(3,"button",7),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n&&(t.s9C("nzSubTitle",t.lcZ(1,2,"ERRORS.BOARDS")),t.xp6(4),t.hij(" ",t.lcZ(5,4,"AUTH.BACK")," "))}function pt(n,i){1&n&&t._UZ(0,"app-filter-window",22)}function ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"h3",36,37),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.onTitleClick(r.title,r._id))}),t._uU(2),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.title)}}function mt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",38)(1,"input",39),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw().$implicit;return t.KtG(a.title=r)}),t.qZA(),t.TgZ(2,"span",40),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.onSubmitForm(r))}),t.qZA(),t.TgZ(3,"span",41),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(2);return r.title=a.prevTitle,a.isTitleClicked="",t.KtG(a.isForbidChangeTitle=!0)}),t.qZA()()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.Q6J("formGroup",o.inputForm),t.xp6(1),t.Q6J("ngModel",e.title),t.xp6(1),t.Q6J("nzType","check-circle"),t.xp6(1),t.Q6J("nzType","close-circle")("nzTheme","outline")}}function gt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",42)(1,"app-task",43),t.NdJ("deleteTask",function(r){t.CHM(e);const a=t.oxw(3);return t.KtG(a.deleteTask(r))}),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("task",e)}}function _t(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",23)(1,"div",24)(2,"h2",25),t._uU(3),t.qZA(),t.YNc(4,ut,3,1,"h3",26),t.YNc(5,mt,4,5,"form",27),t.TgZ(6,"button",28),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.defineColumnId(a._id))}),t._uU(7," . . . "),t.qZA(),t.TgZ(8,"nz-dropdown-menu",null,29)(10,"ul",30)(11,"li",31),t._UZ(12,"app-confirmation-modal",32),t.qZA()()()(),t.TgZ(13,"div",33),t.NdJ("cdkDropListDropped",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.dropTasks(r))}),t.YNc(14,gt,2,1,"div",34),t.ALo(15,"taskFilter"),t.qZA(),t.TgZ(16,"button",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.onTaskModalOpen(d.board._id,a._id))}),t._uU(17),t.ALo(18,"translate"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.MAs(9),r=t.oxw(2);t.xp6(3),t.Oqu(e.order<10?"0"+e.order:e.order),t.xp6(1),t.Q6J("ngIf",r.isTitleClicked!==e._id),t.xp6(1),t.Q6J("ngIf",r.isTitleClicked===e._id),t.xp6(1),t.Q6J("nzDropdownMenu",o)("nzPlacement","bottomRight"),t.xp6(6),t.Q6J("modalText","CONFIRMATION_FORM.TEXT_DELETE_COLUMN")("onDelete",r.deleteColumn),t.xp6(1),t.Q6J("cdkDropListData",e.tasks),t.xp6(1),t.Q6J("ngForOf",t.xi3(15,10,e.tasks,r.filterInputValue)),t.xp6(3),t.hij("+",t.lcZ(18,13,"BOARD.ADD_CARD"),"")}}function ft(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"app-create-column-modal",45),t.NdJ("createColumn",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.createColumn(r))})("closeOpen",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeOpen(r))}),t.qZA()()}}function xt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"app-create-task-modal",46),t.NdJ("createTask",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.createTask(r))})("isModalTaskOpen",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isModalTaskOpen(r))}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("boardId",e.boardId)("columnId",e.columnId)}}const bt=function(){return{transition:"1.5s"}};function ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"section",8)(1,"a",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onFilterPush())}),t.ALo(5,"translate"),t._UZ(6,"span",11),t.qZA(),t.TgZ(7,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onFilterClear())}),t.ALo(8,"translate"),t._UZ(9,"span",13),t.qZA(),t.YNc(10,pt,1,0,"app-filter-window",14),t.TgZ(11,"h1",15),t._uU(12),t.qZA(),t.TgZ(13,"div",16),t.NdJ("cdkDropListDropped",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.drop(r))}),t.TgZ(14,"div",17),t.YNc(15,_t,19,15,"div",18),t.qZA(),t.TgZ(16,"div",19)(17,"div",20),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onCreateColumn())}),t._uU(18),t.ALo(19,"translate"),t.qZA()()(),t.YNc(20,ft,2,0,"div",21),t.YNc(21,xt,2,2,"div",21),t._UZ(22,"app-edit-task-modal"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,14,"AUTH.BACK")),t.xp6(2),t.s9C("title",t.lcZ(5,16,"FILTER.FILTER")),t.xp6(3),t.s9C("title",t.lcZ(8,18,"FILTER.CLEAR")),t.xp6(3),t.Q6J("ngIf",e.isFilterVisible),t.xp6(2),t.Oqu(e.board.title),t.xp6(1),t.Gre("board__columns ",e.isCollapsed?"close":"open",""),t.Q6J("ngStyle",t.DdM(22,bt)),t.xp6(2),t.Q6J("ngForOf",e.columns),t.xp6(2),t.Q6J("cdkDragDisabled",!0),t.xp6(1),t.hij(" ",t.lcZ(19,20,"COLUMN.BUTTON")," "),t.xp6(2),t.Q6J("ngIf",e.snowModal),t.xp6(1),t.Q6J("ngIf",e.isCreateTaskModalOpen)}}let Ct=(()=>{class n{constructor(e,o,r,a,d,w,T,S){this.translate=e,this.languageService=o,this.httpService=r,this.modal=a,this.activatedRoute=d,this.navigationService=w,this.filterService=T,this.editTaskService=S,this.isBoardIdCorrect=!0,this.param="",this.snowModal=!1,this.isCollapsed=!1,this.isTitleClicked="",this.columnTitle="Title",this.prevTitle="",this.isForbidChangeTitle=!1,this.isCreateTaskModalOpen=!1,this.boardId="",this.columnId="",this.userId="",this.boardIdForDelete="",this.isFilterVisible=!1,this.filterInputValue="",this.deleteColumn=()=>{this.columns=this.columns.filter(u=>u._id!==this.boardIdForDelete),this.httpService.deleteColumn(this.board._id,this.boardIdForDelete).subscribe(u=>console.log(u)),this.columns.forEach(u=>{u.order=this.columns.indexOf(u)+1,this.httpService.updateColumnsSet([{order:u.order,_id:u._id}]).subscribe(Yt=>console.log(Yt))})},this.inputForm=new s.cw({myInput:new s.NI("",[s.kI.required,s.kI.maxLength(15)])})}ngOnInit(){this.languageService.language$.subscribe(e=>this.translate.use(e)),this.activatedRoute.queryParams.subscribe(e=>{this.param=e.id}),this.httpService.getBoardById(this.param).subscribe({next:e=>{this.board=e},error:()=>{this.board=void 0,this.isBoardIdCorrect=!1}}),this.httpService.getAllColumns(this.param).subscribe(e=>{this.columns=e.sort((o,r)=>o.order-r.order),this.columns.forEach(o=>{this.httpService.getAllTasks(o.boardId,o._id).subscribe(r=>{o.tasks=r.sort((a,d)=>a.order-d.order)})})}),this.navigationService.collaps.subscribe(e=>{this.isCollapsed=e}),this.editTaskService.taskData$.subscribe(e=>{this.columns.forEach(o=>{o.tasks?.forEach(r=>{e._id===r._id&&(r.title=e.title,r.description=e.description,r.users=this.board.users)})})}),this.filterService.filterInputValue$.subscribe(e=>{this.filterInputValue=e})}drop(e){(0,f.bA)(this.columns,e.previousIndex,e.currentIndex),this.columns.forEach(o=>{o.order=this.columns.indexOf(o)+1}),this.columns.forEach(o=>{this.httpService.updateColumnsSet([{order:o.order,_id:o._id}]).subscribe(r=>console.log(r))})}dropTasks(e){e.previousContainer===e.container?(0,f.bA)(e.container.data,e.previousIndex,e.currentIndex):(0,f.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.columns.forEach(o=>{o.tasks.forEach(r=>{r.order=o.tasks.indexOf(r)+1,this.httpService.updateTask(o.boardId,o._id,r._id,{title:r.title,order:r.order,description:r.description,columnId:o._id,userId:r.userId,users:r.users}).subscribe(a=>a)})})}onCreateColumn(){this.snowModal=!0}createColumn(e){e&&(this.httpService.createColumn(this.board._id,{title:e,order:this.columns.length+1}).subscribe(o=>{this.columns.push({title:o.title,order:o.order,boardId:o.boardId,_id:o._id,tasks:[]})}),this.snowModal=!1)}closeOpen(e){this.snowModal=e}onTitleClick(e,o){this.isForbidChangeTitle||(this.prevTitle=e,this.isTitleClicked=o,this.isForbidChangeTitle=!0)}onSubmitForm(e){e.title&&(this.isTitleClicked="",this.columns.forEach(o=>o._id===e._id?o.title=e.title:o.title),this.httpService.editColumn(this.board._id,e._id,{title:e.title,order:e.order}).subscribe(o=>o),this.isForbidChangeTitle=!1)}onTaskModalOpen(e,o){this.boardId=e,this.columnId=o,this.isCreateTaskModalOpen=!0}createTask(e){this.columns.find(o=>o._id===e.columnId).tasks.push(e)}isModalTaskOpen(e){this.isCreateTaskModalOpen=e}deleteTask(e){this.columns.forEach(o=>{o.tasks=o.tasks.filter(r=>r._id!==e._id)})}defineColumnId(e){this.boardIdForDelete=e}onFilterPush(){this.isFilterVisible=!this.isFilterVisible}onFilterClear(){this.filterService.updateFilterString("")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.sK),t.Y36(h.F),t.Y36(m.f),t.Y36(E.Sf),t.Y36(x.gz),t.Y36(Z.f),t.Y36(I),t.Y36(M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-board"]],decls:3,vars:3,consts:[["class","spinner",4,"ngIf"],["class","error-massage","nzStatus","404","nzTitle","404",3,"nzSubTitle",4,"ngIf"],["class","board",4,"ngIf"],[1,"spinner"],["nzSimple",""],["nzStatus","404","nzTitle","404",1,"error-massage",3,"nzSubTitle"],["nz-result-extra",""],["nz-button","","nzType","primary","routerLink","/workspace"],[1,"board"],["routerLink","/workspace",1,"link-back"],[1,"board__filter",3,"title","click"],["nz-icon","","nzType","filter","nzTheme","outline",1,"board__filter-icon"],[1,"board__filter-clear",3,"title","click"],["nz-icon","","nzType","clear","nzTheme","outline",1,"board__filter-icon"],["class","board__filter-options",4,"ngIf"],[1,"board__title"],["cdkDropList","","cdkDropListOrientation","horizontal",3,"ngStyle","cdkDropListDropped"],["cdkDropListGroup","",2,"display","flex"],["class","column","cdkDrag","",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","gap","20px"],["cdkDrag","",1,"board__create-button",3,"cdkDragDisabled","click"],["class","overlay",4,"ngIf"],[1,"board__filter-options"],["cdkDrag","",1,"column"],[1,"column__title"],[1,"column__order"],["class","column__h3",3,"click",4,"ngIf"],["class","column__form","autofocus","",3,"formGroup",4,"ngIf"],["nz-dropdown","","nzTrigger","click",1,"column__delete",3,"nzDropdownMenu","nzPlacement","click"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable","",1,"dropdown-menu"],["nz-menu-item",""],[3,"modalText","onDelete"],["cdkDropList","",1,"column__tasks",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","style","margin-bottom: 20px;",4,"ngFor","ngForOf"],[1,"column__button",3,"click"],[1,"column__h3",3,"click"],["h3",""],["autofocus","",1,"column__form",3,"formGroup"],["formControlName","myInput","type","text","autofocus","",1,"column__input",3,"ngModel","ngModelChange"],["nz-icon","","nzTheme","outline",1,"column__icon",3,"nzType","click"],["nz-icon","",1,"column__icon",3,"nzType","nzTheme","click"],["cdkDrag","",2,"margin-bottom","20px"],[3,"task","deleteTask"],[1,"overlay"],[3,"createColumn","closeOpen"],[3,"boardId","columnId","createTask","isModalTaskOpen"]],template:function(e,o){1&e&&(t.YNc(0,dt,2,0,"div",0),t.YNc(1,lt,6,6,"nz-result",1),t.YNc(2,ht,23,23,"section",2)),2&e&&(t.Q6J("ngIf",!o.board&&o.isBoardIdCorrect),t.xp6(1),t.Q6J("ngIf",!o.isBoardIdCorrect),t.xp6(1),t.Q6J("ngIf",o.board))},dependencies:[l.sg,l.O5,l.PC,s._Y,s.Fj,s.JJ,s.JL,L.ix,g.w,D.dQ,C.wO,C.r9,_.cm,_.RR,b.Ls,F.ml,F.ey,$.W,s.sg,s.u,x.rH,x.yS,f.Wj,f.Fd,f.Zt,v.Y,Q,q,H,rt,at,p.X$,ct],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Poppins,sans-serif;color:#fff;box-sizing:border-box}.board[_ngcontent-%COMP%]{height:auto;text-align:center;padding-top:20px}@media screen and (max-width: 768px){.board[_ngcontent-%COMP%]{padding-top:10px}}.board__filter[_ngcontent-%COMP%]{color:#fff;position:absolute;right:65px;top:95px;padding:5px;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:hsla(0deg,0%,100%,.1);display:flex;justify-content:center;align-items:center;border:none;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);outline:none}.board__filter[_ngcontent-%COMP%]:hover{cursor:pointer;background:hsla(0deg,0%,100%,.2)}@media screen and (max-width: 768px){.board__filter[_ngcontent-%COMP%]{right:40px;top:60px}}.board__filter-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}@media screen and (max-width: 768px){.board__filter-icon[_ngcontent-%COMP%]{font-size:1rem}}.board__filter-clear[_ngcontent-%COMP%]{color:#fff;position:absolute;right:20px;top:95px;padding:5px;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:hsla(0deg,0%,100%,.1);display:flex;justify-content:center;align-items:center;border:none;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);outline:none}.board__filter-clear[_ngcontent-%COMP%]:hover{cursor:pointer;background:hsla(0deg,0%,100%,.2)}@media screen and (max-width: 768px){.board__filter-clear[_ngcontent-%COMP%]{right:10px;top:60px}}@media screen and (max-width: 768px){.board__title[_ngcontent-%COMP%]{margin-bottom:5px}}.board__columns[_ngcontent-%COMP%]{padding-left:260px;display:flex;flex-direction:row;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;width:100vw;height:calc(100vh - 230px);padding-bottom:20px;align-items:flex-start}@media screen and (max-width: 768px){.board__columns[_ngcontent-%COMP%]{height:calc(100vh - 158px)}}.board__columns.open[_ngcontent-%COMP%]{padding-left:260px}@media (max-width: 768px){.board__columns.open[_ngcontent-%COMP%]{padding-left:10%}}@media (max-width: 600px){.board__columns.open[_ngcontent-%COMP%]{padding-left:20%;width:100%}}@media (max-width: 420px){.board__columns.open[_ngcontent-%COMP%]{padding-left:35%;width:100%}}@media (max-width: 375px){.board__columns.open[_ngcontent-%COMP%]{padding-left:80px}}.board__columns.close[_ngcontent-%COMP%]{padding-left:100px}@media (max-width: 768px){.board__columns.close[_ngcontent-%COMP%]{padding-left:10px}}@media (max-width: 425px){.board__columns.close[_ngcontent-%COMP%]{padding-left:10px;width:100%}}@media (max-width: 375px){.board__columns.close[_ngcontent-%COMP%]{padding-left:5px}}.board__create-button[_ngcontent-%COMP%]{padding:15px;min-width:350px;min-height:40px;max-height:40px;margin:20px;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:hsla(0deg,0%,100%,.1);overflow:hidden;display:flex;justify-content:center;align-items:center;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.board__create-button[_ngcontent-%COMP%]:hover{cursor:pointer;background:hsla(123deg,100%,50%,.3)}@media (max-width: 768px){.board__create-button[_ngcontent-%COMP%]{min-width:280px;margin:10px}}[_nghost-%COMP%]{width:100vw;overflow:hidden;overflow-y:auto}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.board__columns.cdk-drop-list-dragging[_ngcontent-%COMP%]   .board__column[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px;width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:hsla(0deg,0%,100%,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsla(0deg,0%,100%,.5);border-radius:10px;width:2px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.spinner[_ngcontent-%COMP%]{text-align:center;background:rgba(0,0,0,.05);border-radius:4px;padding:30px 50px;margin:0 0 20px}.error-massage[_ngcontent-%COMP%]{margin-top:10%}.overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;justify-content:center;padding-top:20%;position:fixed;inset:0;z-index:50}.column[_ngcontent-%COMP%]{padding:15px;width:350px;flex-grow:0;flex-shrink:0;margin:20px;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:rgba(255,255,255,.1);overflow:hidden;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:20px;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);max-height:calc(100vh - 280px)}@media (max-width: 768px){.column[_ngcontent-%COMP%]{max-height:calc(100vh - 188px);margin:10px;width:280px;padding:5px;gap:8px}}.column[_ngcontent-%COMP%]:hover{cursor:grab}.column[_ngcontent-%COMP%]:active{cursor:grabbing}.column__title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}@media (max-width: 768px){.column__title[_ngcontent-%COMP%]{margin-bottom:-5px}}.column__input[_ngcontent-%COMP%]{padding-left:7px;background-color:transparent;border:1px solid rgba(255,255,255,.5);border-radius:15px;font-size:1.7em;font-weight:600;max-width:75%;outline:none}.column__form[_ngcontent-%COMP%]{max-width:75%;height:43px;display:flex;gap:5px;align-items:center}.column__icon[_ngcontent-%COMP%]:hover{cursor:pointer}.column__order[_ngcontent-%COMP%]{position:absolute;top:50px;right:50px;font-size:8em;color:#ffffff0d;pointer-events:none;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none}.column__delete[_ngcontent-%COMP%]{padding:5px;background-color:transparent;outline:none;border:none;margin-top:5px;margin-bottom:auto}.column__delete[_ngcontent-%COMP%]:hover{cursor:pointer}.column__h3[_ngcontent-%COMP%]{font-size:1.8em;color:#fff;font-weight:600;padding:2px 2px 2px 7px;word-wrap:break-word;max-width:290px}.column__h3[_ngcontent-%COMP%]:hover{cursor:text}.column__button[_ngcontent-%COMP%]{justify-self:flex-end;padding:8px 20px;margin-top:auto;background:#ffffff;outline:none;color:#000;border:1px solid white;border-radius:20px;text-decoration:none;font-weight:500;box-shadow:0 5px 15px #00000080}.column__button[_ngcontent-%COMP%]:hover{cursor:pointer;background:#e6e6e6}@media (max-width: 768px){.column__button[_ngcontent-%COMP%]{padding:5px 12px}}.column__icon[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.column__tasks[_ngcontent-%COMP%]{width:100%;height:100vh;overflow-y:auto;padding-top:10px}@media (max-width: 768px){.column__tasks[_ngcontent-%COMP%]{padding-top:5px}}.alert[_ngcontent-%COMP%]{color:#ffd5d6;font-size:.8rem;margin-right:auto;margin-top:-20px}  .dropdown-menu{background-color:transparent;box-shadow:5px 5px 10px #00000080;border-radius:15px;background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}  .dropdown-menu .ant-dropdown-menu-item,   .dropdown-menu .ant-dropdown-menu-item:hover{border-radius:15px;background-color:transparent}.link-back[_ngcontent-%COMP%]{position:absolute;right:115px;top:100px;height:40px}@media (max-width: 768px){.link-back[_ngcontent-%COMP%]{right:85px;top:64px}}']}),n})();var N=c(2154),kt=c(1991),U=c(3095),Ot=c(3038);function wt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-user-logo",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.removeUser(a))}),t.qZA()}2&n&&t.Q6J("userName",i.$implicit)}function Mt(n,i){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"span",16),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"BOARD.REQUIRED_BOARD_LENGTH")))}function vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"app-add-users-form",5),t.TgZ(5,"div",6),t.YNc(6,wt,1,1,"app-user-logo",7),t._UZ(7,"app-user-logo",8),t.qZA()(),t.TgZ(8,"span",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closeCreateBoard())}),t.qZA()(),t.TgZ(9,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.createBoard())}),t._UZ(10,"input",11),t.ALo(11,"translate"),t.YNc(12,Mt,5,3,"div",12),t.TgZ(13,"button",13),t._uU(14),t.ALo(15,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();let o;t.xp6(4),t.Q6J("userName",e.allUsers),t.xp6(2),t.Q6J("ngForOf",e.usersName),t.xp6(1),t.Q6J("userName",e.owner),t.xp6(2),t.Q6J("formGroup",e.formCreateBoard),t.xp6(1),t.s9C("placeholder",t.lcZ(11,8,"WORKSPACE.TITLE")),t.xp6(2),t.Q6J("ngIf",null==(o=e.formCreateBoard.get("title"))?null:o.getError("maxlength")),t.xp6(1),t.Q6J("disabled",e.formCreateBoard.invalid),t.xp6(1),t.hij(" ",t.lcZ(15,10,"WORKSPACE.CREATE")," ")}}let Pt=(()=>{class n{constructor(e,o,r,a,d,w){this.translate=e,this.languageService=o,this.createFormService=r,this.httpService=a,this.setUserServices=d,this.localStorageService=w,this.isCreationFormBoardOpen=null,this.usersName=[],this.allUsers=[],this.owner="",this.formCreateBoard=new s.cw({title:new s.NI(null,[s.kI.required,s.kI.maxLength(20)])})}ngOnInit(){this.languageService.language$.subscribe(e=>this.translate.use(e)),this.createFormService.isCreateBoardOpen$.subscribe(e=>{this.isCreationFormBoardOpen=e}),this.setUserServices.userName$.subscribe(e=>{this.usersName.includes(e)||this.usersName.push(e)}),this.createFormService.isCreateBoardOpen$.subscribe(e=>{e||(this.usersName=[])}),this.httpService.getAllUsers().subscribe(e=>{e.filter(o=>(this.allUsers.includes(o.name)||this.allUsers.push(o.name),this.allUsers))}),this.owner=JSON.stringify(this.localStorageService.getFromLocalStorage("login")).replace(/["']/g,"")}closeCreateBoard(){this.createFormService.stateFormBoard(!1),this.formCreateBoard.reset()}createBoard(){const e={title:this.formCreateBoard.value.title,owner:this.owner,users:this.usersName};this.createFormService.stateFormBoard(!1),this.formCreateBoard.reset(),this.httpService.createBoard(e).subscribe(o=>{this.createFormService.updateBoards(o)})}removeUser(e){this.usersName=this.usersName.filter(o=>o!==e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.sK),t.Y36(h.F),t.Y36(N.b),t.Y36(m.f),t.Y36(P),t.Y36(Ot.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-board"]],decls:1,vars:1,consts:[["class","section-create-board",4,"ngIf"],[1,"section-create-board"],[1,"wrapper-board"],[1,"board-header"],[1,"users"],[3,"userName"],[1,"user"],[3,"userName","click",4,"ngFor","ngForOf"],[2,"pointer-events","none",3,"userName"],["type","button","nz-icon","","nzType","close","nzTheme","outline",1,"btn-close",3,"click"],[1,"form-board",3,"formGroup","ngSubmit"],["type","text","formControlName","title",1,"input",3,"placeholder"],["class","notification",4,"ngIf"],["type","submit",1,"btn-create",3,"disabled"],[3,"userName","click"],[1,"notification"],["nz-icon","","nzType","exclamation-circle","nzTheme","outline",2,"color","red","font-size","1.6rem"]],template:function(e,o){1&e&&t.YNc(0,vt,16,12,"div",0),2&e&&t.Q6J("ngIf",o.isCreationFormBoardOpen)},dependencies:[l.sg,l.O5,s._Y,s.Fj,s.JJ,s.JL,g.w,b.Ls,s.sg,s.u,k.X,A,p.X$],styles:['.section-create-board[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:11;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow-x:auto}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]{text-align:end;max-width:420px;width:70%;min-width:270px;gap:15px;padding:25px;background-color:#ffffff4d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:10px;margin:0 auto;position:relative;top:20%}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:5%;right:2%;border-radius:20px;color:#fff;border:2px solid #fff;cursor:pointer;transition:all 1s;padding:5px;font-size:20px}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{border:3px solid #fff;transition:all .3s}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;padding:5px 10px;justify-content:center;color:#fff}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:70px;text-align:center}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .btn-delete-user[_ngcontent-%COMP%]{border-radius:15px;background-color:#00ccff80;color:#fff;border:1px outset #fff;margin-left:40px;cursor:pointer}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .btn-delete-user[_ngcontent-%COMP%]:hover{border:3px inset #fff;transform:translate(5px,5px);transition:all 1s}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{padding:5px;width:100%;border-color:#40a9ff;background:#40a9ff;color:#fff;font-size:17px}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:disabled{background-color:#ffffff40;color:#00000080;border:none}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:valid:hover{background:hsla(123deg,100%,50%,.4);border-color:#00ff0d1a;cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:hsla(0deg,0%,100%,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsla(0deg,0%,100%,.5);border-radius:10px;width:2px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.board-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.owner[_ngcontent-%COMP%]{font-size:25px;text-transform:capitalize;color:#fff;margin:15px 0 0}.users[_ngcontent-%COMP%]{display:flex;width:90%;justify-content:space-between;align-items:center;margin:4% auto}.notification[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2%;color:#fff;font-size:13px;width:100%;text-align:start;padding:0 2%}.input[_ngcontent-%COMP%]{width:371px;height:40px;border-radius:10px;padding:10px;outline:none;border:1px solid #fff;background-color:#0000001a;width:100%;color:#fff}.input[_ngcontent-%COMP%]::placeholder{color:#fff}[_nghost-%COMP%]     .user-logo{width:30px;height:30px;position:relative;transition:all .4s}[_nghost-%COMP%]     .user-logo:hover{background:#161643;color:#161643;transition:all .4s}[_nghost-%COMP%]     .user-logo:hover:after{position:absolute;content:"";top:5px;background:rgb(255,255,255);width:2px;height:20px;transform:rotate(45deg);transition:all .4s}[_nghost-%COMP%]     .user-logo:hover:before{position:absolute;content:"";top:5px;background:rgb(255,255,255);width:2px;height:20px;transform:rotate(314deg);transition:all .4s}']}),n})();const Tt=function(n){return{id:n}};function St(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"p",4)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p",5)(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._uU(10),t.ALo(11,"slice"),t.qZA(),t.TgZ(12,"a",6),t._uU(13),t.ALo(14,"translate"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(3),t.hij("",t.lcZ(4,6,"SEARCH.TITLE"),": "),t.xp6(2),t.hij(" ",e.title,""),t.xp6(3),t.hij("",t.lcZ(9,8,"SEARCH.DESCRIPTION"),": "),t.xp6(2),t.hij(" ",e.description.length<71?e.description:t.Dn7(11,10,e.description,0,70)+"...",""),t.xp6(2),t.Q6J("queryParams",t.VKq(16,Tt,e.boardId)),t.xp6(1),t.Oqu(t.lcZ(14,14,"SEARCH.LINK"))}}function yt(n,i){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,St,15,18,"div",2),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.searchResult))}}let Zt=(()=>{class n{constructor(e,o){this.searchService=e,this.translate=o,this.searchResult=this.searchService.getSearchResult()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.o),t.Y36(p.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search-results"]],decls:5,vars:7,consts:[["class","search-results","style","width: 100%",4,"ngIf"],[1,"search-results",2,"width","100%"],["class","search-item","style","width: 200px;",4,"ngFor","ngForOf"],[1,"search-item",2,"width","200px"],[1,"search-item__title"],[1,"search-item__description"],["routerLink","/workspace/boards",3,"queryParams"]],template:function(e,o){1&e&&(t.TgZ(0,"h2"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"async"),t.qZA(),t.YNc(4,yt,3,3,"div",0)),2&e&&(t.xp6(1),t.AsE("",t.lcZ(2,3,"SEARCH.RESULTS"),": ",t.lcZ(3,5,o.searchResult).length,""),t.xp6(3),t.Q6J("ngIf",o.searchResult))},dependencies:[l.sg,l.O5,x.yS,l.Ov,l.OU,p.X$],styles:["*[_ngcontent-%COMP%]{color:#fff}h2[_ngcontent-%COMP%]{margin-top:20px}.search-results[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-wrap:wrap}.search-results[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;color:#4bb4ff;margin-right:5px}.search-item[_ngcontent-%COMP%]{padding:15px;width:350px;flex-grow:0;flex-shrink:0;margin:20px;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:rgba(255,255,255,.1);overflow:hidden;display:flex;justify-content:space-between;align-items:flex-start;flex-direction:column;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.search-item__description[_ngcontent-%COMP%], .search-item__title[_ngcontent-%COMP%]{word-break:break-all}"]}),n})();const It=function(n){return{paddingLeft:n,transition:"1.5s",width:"100vw"}};function Ft(n,i){if(1&n&&(t.TgZ(0,"div",2),t._UZ(1,"app-search-results"),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngStyle",t.VKq(1,It,e.isNavigationClose?"100px":"260px"))}}function zt(n,i){if(1&n&&(t.TgZ(0,"span",17),t._UZ(1,"app-user-logo",18),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("userName",e)}}const At=function(n){return{id:n}};function Nt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"button",9),t._uU(2," . . . "),t.qZA(),t.TgZ(3,"nz-dropdown-menu",null,10)(5,"ul",11)(6,"li",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.boardIdForDelete=a._id)}),t._UZ(7,"app-confirmation-modal",13),t.qZA()()(),t.TgZ(8,"a",14),t._uU(9),t.TgZ(10,"div",15),t.YNc(11,zt,2,1,"span",16),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.MAs(4),r=t.oxw(2);t.xp6(1),t.Q6J("nzDropdownMenu",o)("nzPlacement","bottomRight"),t.xp6(6),t.Q6J("modalText","CONFIRMATION_FORM.TEXT_DELETE_BOARD")("onDelete",r.deleteBoard),t.xp6(1),t.Q6J("queryParams",t.VKq(7,At,e._id)),t.xp6(1),t.hij(" ",e.title," "),t.xp6(2),t.Q6J("ngForOf",e.users)}}const Ut=function(){return{transition:"1.5s"}};function Jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"section",3)(1,"h1",4),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2)(5,"div",5),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.createForm())}),t.TgZ(6,"span",6),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.createForm())}),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.YNc(9,Nt,12,9,"div",7),t.qZA(),t._UZ(10,"app-create-board"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,7,"WORKSPACE.BOARD")),t.xp6(2),t.Gre("boards ",e.isNavigationClose?"close":"open",""),t.Q6J("ngStyle",t.DdM(11,Ut)),t.xp6(3),t.Oqu(t.lcZ(8,9,"WORKSPACE.CREATE_BOARD")),t.xp6(2),t.Q6J("ngForOf",e.boards)}}const Et=[{path:"",component:(()=>{class n{constructor(e,o,r,a,d,w,T){this.translate=e,this.languageService=o,this.createFormService=r,this.httpService=a,this.getUsersServices=d,this.navigationService=w,this.searchService=T,this.isStateFormBoard=null,this.nameBoard=null,this.boards=[],this.users=[],this.boardIdForDelete="",this.isNavigationClose=!1,this.searchString="",this.deleteBoard=()=>{this.httpService.deleteBoard(this.boardIdForDelete).subscribe(S=>{this.boards=this.boards.filter(u=>u._id!==S._id)}),this.boardIdForDelete=""}}ngOnInit(){this.languageService.language$.subscribe(e=>this.translate.use(e)),this.httpService.getAllBoards().subscribe(e=>{this.boards=e}),this.createFormService.boards$.subscribe(e=>{this.boards.push(e)}),this.navigationService.collaps.subscribe(e=>{this.isNavigationClose=e}),this.searchService.results$.subscribe(e=>{this.searchResults=e}),this.searchService.searchString$.subscribe(e=>{this.searchString=e})}createForm(){this.createFormService.stateFormBoard(!0),this.httpService.getAllUsers().subscribe(e=>{this.getUsersServices.getUsers(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.sK),t.Y36(h.F),t.Y36(N.b),t.Y36(m.f),t.Y36(kt.W),t.Y36(Z.f),t.Y36(U.o))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-workspace"]],decls:2,vars:2,consts:[[3,"ngStyle",4,"ngIf"],["class","workspace",4,"ngIf"],[3,"ngStyle"],[1,"workspace"],[1,"title-boards"],[1,"board","create-board",3,"click"],[1,"link-board",3,"click"],["class","board",4,"ngFor","ngForOf"],[1,"board"],["nz-dropdown","","nzTrigger","click",1,"board__delete",3,"nzDropdownMenu","nzPlacement"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable","",1,"dropdown-menu"],["nz-menu-item","",3,"click"],[3,"modalText","onDelete"],["routerLink","/workspace/boards",1,"title-board",3,"queryParams"],[1,"users"],["class","user",4,"ngFor","ngForOf"],[1,"user"],[3,"userName"]],template:function(e,o){1&e&&(t.YNc(0,Ft,2,3,"div",0),t.YNc(1,Jt,11,12,"section",1)),2&e&&(t.Q6J("ngIf",o.searchString),t.xp6(1),t.Q6J("ngIf",!o.searchString))},dependencies:[l.sg,l.O5,l.PC,g.w,C.wO,C.r9,_.cm,_.RR,x.yS,v.Y,k.X,Pt,Zt,p.X$],styles:[".workspace[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;height:85vh;overflow-x:auto}.workspace[_ngcontent-%COMP%]   .title-boards[_ngcontent-%COMP%]{padding:20px 0;font-size:30px;font-weight:500;margin:0;color:#fff}@media (max-width: 520px){.workspace[_ngcontent-%COMP%]   .title-boards[_ngcontent-%COMP%]{font-size:25px}}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]{width:100vw;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));grid-auto-rows:1fr;padding:0 20px 65px;gap:20px;justify-content:center}.workspace[_ngcontent-%COMP%]   .boards.open[_ngcontent-%COMP%]{padding-left:260px}@media (max-width: 768px){.workspace[_ngcontent-%COMP%]   .boards.open[_ngcontent-%COMP%]{padding-left:10%}}@media (max-width: 600px){.workspace[_ngcontent-%COMP%]   .boards.open[_ngcontent-%COMP%]{padding-left:20%;width:100%}}@media (max-width: 420px){.workspace[_ngcontent-%COMP%]   .boards.open[_ngcontent-%COMP%]{padding-left:35%;width:100%}}.workspace[_ngcontent-%COMP%]   .boards.close[_ngcontent-%COMP%]{padding-left:100px}@media (max-width: 768px){.workspace[_ngcontent-%COMP%]   .boards.close[_ngcontent-%COMP%]{padding-left:3%}}@media (max-width: 600px){.workspace[_ngcontent-%COMP%]   .boards.close[_ngcontent-%COMP%]{padding-left:20%}}@media (max-width: 420px){.workspace[_ngcontent-%COMP%]   .boards.close[_ngcontent-%COMP%]{padding-left:20%;width:100%}}@media (max-width: 580px){.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]{padding:0 20% 65px}}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;box-shadow:20px 20px 50px #0003;border-radius:15px;background:rgba(255,255,255,.1);border:1px outset rgba(255,255,255,.5);transition:1s;word-break:break-all;line-height:27px;padding:5px;min-height:130px;height:auto;cursor:pointer;justify-content:center;position:relative;max-width:350px}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 10px #0006;border:1px outset rgba(255,255,255,.6);transform:translateY(10px);transition:1s}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .create-board[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .title-board[_ngcontent-%COMP%]{border-radius:10px;font-size:25px;color:#fff;width:100%;text-align:center;padding:10px 0;text-shadow:1px -1px #030000;font-weight:600;text-transform:capitalize}@media (max-width: 768px){.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .title-board[_ngcontent-%COMP%]{font-size:20px}}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .link-board[_ngcontent-%COMP%]{color:#fff}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%], .workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{height:auto;font-size:15px;border-bottom:2px solid rgba(255,255,255,.7);background:rgba(0,0,0,.1);border-radius:10px;padding-left:10px;width:70%;text-align:end;padding-right:15px;display:flex;flex-wrap:wrap;justify-content:flex-start}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]{font-size:18px;margin:15px 0 10px;width:80%;text-align:start}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{text-align:left;background-color:#0000;border:0;min-height:30px;height:auto;width:86%;padding:6% 0 2% 1%;flex-wrap:nowrap;overflow:auto;margin:0 auto}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background-color:#fff3;border:0;padding:5px 0;border-radius:10px;width:100%;color:#fff;cursor:pointer}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background-color:#6efa6680;font-size:20px;font-weight:500;transition:all 1s}[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:hsla(0deg,0%,100%,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsla(0deg,0%,100%,.5);border-radius:10px;width:2px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding:0;margin:0}.board__delete[_ngcontent-%COMP%]{position:absolute;font-size:1rem;line-height:100%;background:none;border:none;color:#fff;padding:5px;height:30px;top:0;right:15px}.board__delete[_ngcontent-%COMP%]:hover{cursor:pointer}  .dropdown-menu{box-shadow:5px 5px 10px #00000080;border-radius:15px;background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}  .dropdown-menu .ant-dropdown-menu-item:hover{border-radius:15px}  .dropdown-menu button{background:hsla(268deg,28%,39%,.5);border-radius:15px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}  .dropdown-menu button span{color:#fff}  .dropdown-menu button:not([disabled]):hover span{color:#000}"]}),n})()},{path:"boards",component:Ct}];let Bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[x.Bz.forChild(Et),x.Bz]}),n})();var Lt=c(7606),J=c(5862),Dt=c(931);let $t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,s.u5,J.E,s.UX,Bt,Lt.v,f._t,J.E,Dt.I]}),n})()}}]);