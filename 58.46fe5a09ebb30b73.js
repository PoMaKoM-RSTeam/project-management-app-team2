"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[58],{5058:(k,z,l)=>{l.r(z),l.d(z,{ProfileModule:()=>Y});var A=l(6895),r=l(4006),g=l(9132),F=l(1088),n=l(4650),P=l(9383),x=l(4288),w=l(6853),b=l(2229),O=l(6616),S=l(7044),U=l(1664),T=l(3679),c=l(6704),Z=l(5635);function M(t,a){1&t&&(n.TgZ(0,"small",16),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"AUTH.REQUIRED_NAME")," "))}function I(t,a){1&t&&(n.TgZ(0,"small",16),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"AUTH.MIN_LENGTH_NAME")))}function N(t,a){1&t&&(n.TgZ(0,"small",16),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"AUTH.REQUIRED_NAME")," "))}function L(t,a){1&t&&(n.TgZ(0,"small",16),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"AUTH.MIN_LENGTH_NAME")))}function y(t,a){if(1&t&&(n.TgZ(0,"small",16),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t){const o=n.oxw();let e;n.xp6(1),n.hij(" ",n.lcZ(2,1,null==(e=o.validateForm.get("password"))||null==e.errors?null:e.errors.invalidPassword)," ")}}function E(t,a){1&t&&(n.TgZ(0,"small",16),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"AUTH.CHECK_PASSWORD")," "))}function J(t,a){1&t&&(n.TgZ(0,"small",16),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"AUTH.INCORRECT_PASSWORD")))}const q=[{path:"",component:(()=>{class t{constructor(o,e,s,d,f,m){this.fb=o,this.rout=e,this.translate=s,this.languageService=d,this.authService=f,this.httpService=m,this.userId="",this.captchaTooltipIcon={type:"info-circle",theme:"twotone"},this.confirmationValidator=i=>i.value?i.value!==this.validateForm.controls.password.value?{confirm:!0,error:!0}:{}:{required:!0},this.editUser=()=>{const i={name:this.validateForm.value.name,login:this.validateForm.value.login,password:this.validateForm.value.password};return this.httpService.editUser(this.userId,i).subscribe({next:()=>{this.authService.setNewLogin(i.name,i.login),this.rout.navigate(["/workspace"])}})}}ngOnInit(){this.languageService.language$.subscribe(o=>this.translate.use(o)),this.authService.userId$.subscribe(o=>{this.userId=o}),this.validateForm=this.fb.group({name:[null,[r.kI.required,r.kI.minLength(1)]],login:[null,[r.kI.required,r.kI.minLength(6)]],password:[null,[r.kI.required,F.j.validatorsPassword]],checkPassword:[null,[r.kI.required,this.confirmationValidator]]})}submitForm(){this.validateForm.valid||Object.values(this.validateForm.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))})}updateConfirmValidator(){Promise.resolve().then(()=>this.validateForm.controls.checkPassword.updateValueAndValidity())}getCaptcha(o){o.preventDefault()}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(r.QS),n.Y36(g.F0),n.Y36(P.sK),n.Y36(x.F),n.Y36(w.e),n.Y36(b.f))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-profile"]],decls:43,vars:49,consts:[[1,"edit-user-page"],["routerLink","/workspace",1,"link-back"],["nz-form","",3,"formGroup","ngSubmit"],["nzFor","name","nzRequired","","nzTooltipTitle","What do you want other to call you",3,"nzSm","nzXs"],[1,"input"],["nz-input","","id","name","formControlName","name"],["class","notification",4,"ngIf"],["nzFor","login","nzRequired","",3,"nzSm","nzXs"],["nz-input","","id","login","formControlName","login"],["nzFor","password","nzRequired","",3,"nzSm","nzXs"],["nz-input","","type","password","id","password","formControlName","password",3,"ngModelChange"],["nzFor","checkPassword","nzRequired","",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","checkPassword","id","checkPassword"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary","type","button",1,"registr-btn",3,"disabled","click"],[1,"notification"]],template:function(o,e){if(1&o&&(n.TgZ(0,"section",0)(1,"a",1),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"form",2),n.NdJ("ngSubmit",function(){return e.submitForm()}),n.TgZ(5,"nz-form-item")(6,"nz-form-label",3)(7,"span"),n._uU(8),n.ALo(9,"translate"),n.qZA()(),n.TgZ(10,"nz-input-group",4),n._UZ(11,"input",5),n.YNc(12,M,3,3,"small",6),n.YNc(13,I,3,3,"small",6),n.qZA()(),n.TgZ(14,"nz-form-item")(15,"nz-form-label",7)(16,"span"),n._uU(17),n.ALo(18,"translate"),n.qZA()(),n.TgZ(19,"nz-input-group",4),n._UZ(20,"input",8),n.YNc(21,N,3,3,"small",6),n.YNc(22,L,3,3,"small",6),n.qZA()(),n.TgZ(23,"nz-form-item")(24,"nz-form-label",9),n._uU(25),n.ALo(26,"translate"),n.qZA(),n.TgZ(27,"nz-input-group",4)(28,"input",10),n.NdJ("ngModelChange",function(){return e.updateConfirmValidator()}),n.qZA(),n.YNc(29,y,3,3,"small",6),n.qZA()(),n.TgZ(30,"nz-form-item")(31,"nz-form-label",11),n._uU(32),n.ALo(33,"translate"),n.qZA(),n.TgZ(34,"nz-input-group",4),n._UZ(35,"input",12),n.YNc(36,E,3,3,"small",6),n.YNc(37,J,3,3,"small",6),n.qZA()(),n.TgZ(38,"nz-form-item",13)(39,"nz-form-control",14)(40,"button",15),n.NdJ("click",function(){return e.editUser()}),n._uU(41),n.ALo(42,"translate"),n.qZA()()()()()),2&o){let s,d,f,m,i,_,h,u,v,p,C;n.xp6(2),n.Oqu(n.lcZ(3,37,"AUTH.BACK")),n.xp6(2),n.Q6J("formGroup",e.validateForm),n.xp6(2),n.Q6J("nzSm",8)("nzXs",10),n.xp6(2),n.Oqu(n.lcZ(9,39,"AUTH.NAME")),n.xp6(3),n.Tol(null!=(s=e.validateForm.get("name"))&&s.errors&&null!=(s=e.validateForm.get("name"))&&s.touched?"error":"valid"),n.xp6(1),n.Q6J("ngIf",(null==(d=e.validateForm.get("name"))||null==d.errors?null:d.errors.required)&&(null==(d=e.validateForm.get("name"))?null:d.touched)),n.xp6(1),n.Q6J("ngIf",null==(f=e.validateForm.get("name"))?null:f.getError("minlength")),n.xp6(2),n.Q6J("nzSm",8)("nzXs",10),n.xp6(2),n.Oqu(n.lcZ(18,41,"AUTH.USER_LOGIN")),n.xp6(3),n.Tol(null!=(m=e.validateForm.get("login"))&&m.errors&&null!=(m=e.validateForm.get("login"))&&m.touched?"error":"valid"),n.xp6(1),n.Q6J("ngIf",(null==(i=e.validateForm.get("login"))||null==i.errors?null:i.errors.required)&&(null==(i=e.validateForm.get("login"))?null:i.touched)),n.xp6(1),n.Q6J("ngIf",null==(_=e.validateForm.get("login"))?null:_.getError("minlength")),n.xp6(2),n.Q6J("nzSm",8)("nzXs",10),n.xp6(1),n.Oqu(n.lcZ(26,43,"AUTH.PASSWORD")),n.xp6(3),n.Tol(null!=(h=e.validateForm.get("password"))&&h.errors&&null!=(h=e.validateForm.get("password"))&&h.touched?"error":"valid"),n.xp6(1),n.Q6J("ngIf",(null==(u=e.validateForm.get("password"))?null:u.getError("invalidPassword"))&&(null==(u=e.validateForm.get("password"))?null:u.invalid)&&((null==(u=e.validateForm.get("password"))?null:u.dirty)||(null==(u=e.validateForm.get("password"))?null:u.touched))),n.xp6(2),n.Q6J("nzSm",8)("nzXs",10),n.xp6(1),n.hij(" ",n.lcZ(33,45,"AUTH.CONFIRM_PASSWORD")," "),n.xp6(3),n.Tol(null!=(v=e.validateForm.get("checkPassword"))&&v.errors&&null!=(v=e.validateForm.get("checkPassword"))&&v.touched?"error":"valid"),n.xp6(1),n.Q6J("ngIf",(null==(p=e.validateForm.get("checkPassword"))||null==p.errors?null:p.errors.required)&&(null==(p=e.validateForm.get("checkPassword"))?null:p.touched)),n.xp6(1),n.Q6J("ngIf",null==(C=e.validateForm.get("checkPassword"))?null:C.getError("confirm")),n.xp6(2),n.Q6J("nzSpan",14)("nzOffset",6),n.xp6(1),n.Q6J("disabled",e.validateForm.invalid),n.xp6(1),n.Oqu(n.lcZ(42,47,"AUTH.EDIT_USER"))}},dependencies:[A.O5,g.yS,O.ix,S.w,U.dQ,T.t3,T.SK,c.Lr,c.Nx,c.iK,c.Fd,Z.Zp,Z.gB,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,P.X$],styles:[".phone-select[_ngcontent-%COMP%]{width:70px}.register-are[_ngcontent-%COMP%]{margin-bottom:8px}.input[_ngcontent-%COMP%]{width:60%}.edit-user-page[_ngcontent-%COMP%]{max-width:500px;width:60%;display:flex;flex-direction:column;margin:5% 60% auto 40%}.ant-form[_ngcontent-%COMP%]{width:100%}.valid.ng-valid[_ngcontent-%COMP%]{border-bottom:2px solid rgb(68,156,214)}.ant-input-affix-wrapper[_ngcontent-%COMP%]:not(.ant-input-affix-wrapper-disabled):hover{border-color:#b9b9b9;border-right-width:0px;z-index:0}.ant-input-affix-wrapper[_ngcontent-%COMP%]:focus, .ant-input-affix-wrapper-focused[_ngcontent-%COMP%]{border-color:#b9b9b9;box-shadow:0 0 0 2px #c0c0c033;border-right-width:1px;outline:0}.error[_ngcontent-%COMP%]{border-bottom:2px solid rgb(255,0,0)}.ant-input[_ngcontent-%COMP%]:hover{border-color:#b6b8b8;border-right-width:1px}.ant-input[_ngcontent-%COMP%]:focus, .ant-input-focused[_ngcontent-%COMP%]{border-color:#c4c4c5;box-shadow:0 0 0 2px #c5c6c780;border-right-width:1px;outline:0}.notification[_ngcontent-%COMP%]{color:red;font-size:75%}.ant-form-item[_ngcontent-%COMP%]{height:35px}.registr-btn[_ngcontent-%COMP%]{padding:0 30px;margin:0 40px}.link-back[_ngcontent-%COMP%]{margin:20px 0;font-size:18px;width:50px}"]}),t})()}];let R=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.Bz.forChild(q),g.Bz]}),t})();var Q=l(6960),H=l(7606);let Y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[A.ez,R,Q.E,r.UX,H.v]}),t})()}}]);