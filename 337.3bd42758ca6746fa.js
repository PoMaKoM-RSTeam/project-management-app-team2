"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[337],{4337:(Pe,M,c)=>{c.r(M),c.d(M,{WorkspaceModule:()=>we});var p=c(6895),i=c(4006),m=c(1206),g=c(9132),e=c(4650),d=c(9383),f=c(4288),_=c(2229),z=c(8400),w=c(2348),U=c(6616),x=c(7044),B=c(1664),b=c(3325),h=c(9562),C=c(7423),T=c(6174),J=c(5681),k=c(4262);function L(o,s){1&o&&(e.TgZ(0,"div",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BOARD.REQUIRED_INPUT")))}function D(o,s){1&o&&(e.TgZ(0,"div",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BOARD.REQUIRED_MAX_VALUE")))}let E=(()=>{class o{constructor(t,n){this.translate=t,this.languageService=n,this.createColumn=new e.vpe,this.closeOpen=new e.vpe,this.modalForm=new i.cw({modalFormInput:new i.NI("",[i.kI.required,i.kI.maxLength(15)])})}ngOnInit(){this.languageService.language$.subscribe(t=>this.translate.use(t))}onSubmit(){this.createColumn.emit(this.modalForm.value.modalFormInput)}onCloseModalWindow(){this.closeOpen.emit(!1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.sK),e.Y36(f.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-column-modal"]],outputs:{createColumn:"createColumn",closeOpen:"closeOpen"},decls:10,vars:11,consts:[[1,"create-column"],["autofocus","",1,"create-column__form",3,"formGroup","ngSubmit"],["formControlName","modalFormInput","type","text","autofocus","",1,"create-column__input",3,"placeholder"],["class","alert",4,"ngIf"],["type","submit",1,"create-column__button"],["nz-icon","",1,"create-column__close-button",3,"nzType","nzTheme","click"],[1,"alert"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e._UZ(2,"input",2),e.ALo(3,"translate"),e.YNc(4,L,3,3,"div",3),e.YNc(5,D,3,3,"div",3),e.TgZ(6,"button",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"span",5),e.NdJ("click",function(){return n.onCloseModalWindow()}),e.qZA()()),2&t){let r,a;e.xp6(1),e.Q6J("formGroup",n.modalForm),e.xp6(1),e.s9C("placeholder",e.lcZ(3,7,"COLUMN_MODAL.TITLE")),e.xp6(2),e.Q6J("ngIf",null==(r=n.modalForm.get("modalFormInput"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=n.modalForm.get("modalFormInput"))||null==a.errors?null:a.errors.maxlength),e.xp6(2),e.Oqu(e.lcZ(8,9,"COLUMN_MODAL.BUTTON")),e.xp6(2),e.Q6J("nzType","close-circle")("nzTheme","outline")}},dependencies:[p.O5,i._Y,i.Fj,i.JJ,i.JL,x.w,C.Ls,i.sg,i.u,d.X$],styles:[".alert[_ngcontent-%COMP%]{color:#fff;font-size:.8rem;margin-right:auto}.create-column[_ngcontent-%COMP%]{padding:40px 15px 30px;width:400px;height:250px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:5px 5px 10px #00000080;border-radius:15px;background:rgba(255,255,255,.1);overflow:hidden;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);margin:0 auto}.create-column__form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;height:180px}.create-column__close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:1.5rem;padding:10px}.create-column__close-button[_ngcontent-%COMP%]:hover{cursor:pointer}.create-column__input[_ngcontent-%COMP%]{border-radius:15px;outline:none;border:none;padding:5px 5px 5px 20px;width:100%;margin:0 auto;color:#fff;font-size:1.5rem;background:rgba(255,255,255,.1);border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:20px 20px 50px #00000080}.create-column__input[_ngcontent-%COMP%]::placeholder{color:#ffffff4d;font-size:1.2rem}.create-column__button[_ngcontent-%COMP%]{padding:8px 20px;margin-top:auto;background:#ffffff;outline:none;color:#000;border:1px solid white;border-radius:20px;text-decoration:none;font-weight:500;box-shadow:0 5px 15px #00000080}.create-column__button[_ngcontent-%COMP%]:hover{cursor:pointer;background:#e6e6e6}"]}),o})(),$=(()=>{class o{constructor(t,n,r){this.translate=t,this.languageService=n,this.htttpService=r,this.columnId="",this.boardId="",this.createColumn=new e.vpe,this.isModalTaskOpen=new e.vpe,this.createTask=new e.vpe,this.modalForm=new i.cw({title:new i.NI("",[i.kI.required,i.kI.maxLength(15)]),description:new i.NI("",[i.kI.required,i.kI.maxLength(100)])})}ngOnInit(){this.languageService.language$.subscribe(t=>this.translate.use(t)),this.htttpService.getAllUsers().subscribe(t=>{const n=localStorage.getItem("login");this.userId=t.filter(r=>r.login===n)[0]._id}),this.htttpService.getAllTasks(this.boardId,this.columnId).subscribe(t=>{this.taskCount=t.length})}onSubmit(){this.htttpService.createTask(this.boardId,this.columnId,{title:this.modalForm.value.title,order:this.taskCount+1,description:this.modalForm.value.description,userId:this.userId,users:[]}).subscribe(t=>{this.createTask.emit(t),this.isModalTaskOpen.emit(!1)})}onClose(){this.isModalTaskOpen.emit(!1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.sK),e.Y36(f.F),e.Y36(_.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-task-modal"]],inputs:{columnId:"columnId",boardId:"boardId"},outputs:{createColumn:"createColumn",isModalTaskOpen:"isModalTaskOpen",createTask:"createTask"},decls:10,vars:12,consts:[[1,"modal"],["autofocus","",1,"modal__form",3,"formGroup","ngSubmit"],["type","text","formControlName","title","autofocus","",1,"modal__input",3,"placeholder"],["type","text","formControlName","description","autofocus","",1,"modal__input",3,"placeholder"],["type","submit",1,"modal__button"],["nz-icon","",1,"modal__close-button",3,"nzType","nzTheme","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e._UZ(2,"input",2),e.ALo(3,"translate"),e._UZ(4,"input",3),e.ALo(5,"translate"),e.TgZ(6,"button",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"span",5),e.NdJ("click",function(){return n.onClose()}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.modalForm),e.xp6(1),e.s9C("placeholder",e.lcZ(3,6,"TASK_MODAL.TITLE")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,8,"TASK_MODAL.DESCRIPTION")),e.xp6(3),e.Oqu(e.lcZ(8,10,"TASK_MODAL.BUTTON")),e.xp6(2),e.Q6J("nzType","close-circle")("nzTheme","outline"))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,x.w,C.Ls,i.sg,i.u,d.X$],styles:[".modal[_ngcontent-%COMP%]{padding:40px 15px 30px;width:400px;height:250px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:rgba(255,255,255,.1);overflow:hidden;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);margin:0 auto}.modal__form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;height:180px;gap:20px}.modal__close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:1.5rem;padding:10px}.modal__close-button[_ngcontent-%COMP%]:hover{cursor:pointer}.modal__input[_ngcontent-%COMP%]{border-radius:15px;outline:none;border:none;padding:5px 5px 5px 20px;width:100%;margin:0 auto;color:#fff;font-size:1.5rem;background:rgba(255,255,255,.1);border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:5px 5px 10px #00000080}.modal__input[_ngcontent-%COMP%]::placeholder{color:#ffffff4d;font-size:1.2rem}.modal__button[_ngcontent-%COMP%]{padding:8px 20px;margin-top:auto;background:#ffffff;outline:none;color:#000;border:1px solid white;border-radius:20px;text-decoration:none;font-weight:500;box-shadow:0 5px 15px #00000080}.modal__button[_ngcontent-%COMP%]:hover{cursor:pointer;background:#e6e6e6}"]}),o})();var Y=c(6853),P=c(8922);let q=(()=>{class o{constructor(t){this.httpService=t,this.userName="",this.userId="",this.message=""}ngOnInit(){this.userId=this.comment.title.split("&")[1],this.message=this.comment.title.split("&")[0],this.httpService.getAllUsers().subscribe(t=>{this.userName=t.find(n=>n._id===this.userId).name})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-comment"]],inputs:{comment:"comment"},decls:5,vars:2,consts:[[1,"comment"],[1,"comment__user"],[3,"userName"],[1,"comment__message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-user-logo",2),e.qZA(),e.TgZ(3,"p",3),e._uU(4),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("userName",n.userName),e.xp6(2),e.Oqu(n.message))},dependencies:[P.X],styles:[".comment[_ngcontent-%COMP%]{color:#fff;width:100%}.comment__user[_ngcontent-%COMP%]{margin-bottom:5px}.comment__user-logo[_ngcontent-%COMP%]{background:#161643;color:#fff;border-radius:100%;padding:5px;margin-right:5px;display:inline-flex;height:30px;width:30px;align-items:center;justify-content:center}.comment__message[_ngcontent-%COMP%]{color:#000;background-color:#ffffff80;border-radius:5px;padding:5px;width:calc(100% - 40px);margin-left:30px;margin-top:-10px;word-break:break-all}[_nghost-%COMP%]{width:100%}"]}),o})();function R(o,s){1&o&&e._UZ(0,"app-comment",6),2&o&&e.Q6J("comment",s.$implicit)}let Q=(()=>{class o{constructor(t,n,r){this.httpService=t,this.translate=n,this.authService=r,this.userName="",this.comments=[],this.userId="",this.message="",this.commentForm=new i.cw({message:new i.NI("",i.kI.required)})}ngOnInit(){this.authService.userName$.subscribe(t=>{this.userName=t}),this.authService.userId$.subscribe(t=>{this.userId=t}),this.httpService.getPointsByTaskId(this.task._id).subscribe(t=>{this.comments=t})}onSubmit(){this.httpService.createPoint({title:`${this.commentForm.value.message}&${this.userId}`,taskId:this.task._id,boardId:this.task.boardId,done:!1}).subscribe(t=>{this.comments.push({title:t.title,taskId:t.taskId,boardId:t.boardId,done:!1,_id:t._id})}),this.commentForm.reset()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.f),e.Y36(d.sK),e.Y36(Y.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-comments-block"]],inputs:{task:"task"},decls:7,vars:6,consts:[[1,"comment-block"],[1,"comment-block__comments"],[3,"comment",4,"ngFor","ngForOf"],[1,"comment-block__form",3,"formGroup","ngSubmit"],[3,"userName"],["type","text","formControlName","message",1,"comment-block__input",3,"placeholder"],[3,"comment"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,R,1,1,"app-comment",2),e.qZA(),e.TgZ(3,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e._UZ(4,"app-user-logo",4)(5,"input",5),e.ALo(6,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",n.comments),e.xp6(1),e.Q6J("formGroup",n.commentForm),e.xp6(1),e.Q6J("userName",n.userName),e.xp6(1),e.s9C("placeholder",e.lcZ(6,4,"COMMENTS.PLACEHOLDER")))},dependencies:[p.sg,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,P.X,q,d.X$],styles:[".comment-block__input[_ngcontent-%COMP%]{background:none;border:1px solid #e2e2e2;border-radius:20px;padding:4px 8px 4px 4px;margin-top:5px;outline:none;text-indent:5px}.comment-block__input[_ngcontent-%COMP%]::placeholder{color:#e2e2e2;margin-left:5px;padding-right:5px;text-indent:5px}"]}),o})(),K=(()=>{class o{constructor(t,n){this.translate=t,this.httpService=n,this.deleteTask=new e.vpe,this.onDelete=()=>{this.httpService.deleteTask(this.task.boardId,this.task.columnId,this.task._id).subscribe(r=>this.deleteTask.emit(r))}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.sK),e.Y36(_.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-task"]],inputs:{task:"task"},outputs:{deleteTask:"deleteTask"},decls:14,vars:6,consts:[[1,"task"],[1,"task__title"],[1,"task__description"],["nz-icon","","nzType","comment","nzTheme","outline",1,"task__comments"],[3,"task"],["nz-dropdown","","nzTrigger","click",1,"task__close-button",3,"nzDropdownMenu"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item",""],[3,"onDelete","modalText"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2),e.qZA(),e.TgZ(3,"p",2),e._uU(4),e.qZA(),e._UZ(5,"span",3)(6,"app-comments-block",4),e.TgZ(7,"button",5),e._uU(8,". . ."),e.qZA(),e.TgZ(9,"nz-dropdown-menu",null,6)(11,"ul",7)(12,"li",8),e._UZ(13,"app-confirmation-modal",9),e.qZA()()()()),2&t){const r=e.MAs(10);e.xp6(2),e.Oqu(n.task.title),e.xp6(2),e.Oqu(n.task.description),e.xp6(2),e.Q6J("task",n.task),e.xp6(1),e.Q6J("nzDropdownMenu",r),e.xp6(6),e.Q6J("onDelete",n.onDelete)("modalText","CONFIRMATION_FORM.TEXT_DELETE_TASK")}},dependencies:[x.w,b.wO,b.r9,h.cm,h.RR,C.Ls,k.Y,Q],styles:["*[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding:0}.task[_ngcontent-%COMP%]{padding:15px;width:96%;flex-grow:0;flex-shrink:0;text-align:left;box-shadow:5px 5px 10px #00000080;border-radius:15px;background:rgba(255,255,255,.1);display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.task__title[_ngcontent-%COMP%]{font-size:1.4rem;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#fff}.task__description[_ngcontent-%COMP%]{font-size:1rem;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#fff;text-align:justify}.task__close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:1rem;padding:10px;background:none;border:none}.task__close-button[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.05)}.task__comments[_ngcontent-%COMP%]{font-size:1.5rem;align-self:flex-end}.task__comments[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),o})();function j(o,s){1&o&&(e.TgZ(0,"div",3),e._UZ(1,"nz-spin",4),e.qZA())}function G(o,s){1&o&&(e.TgZ(0,"nz-result",5),e.ALo(1,"translate"),e.TgZ(2,"div",6)(3,"button",7),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&o&&(e.s9C("nzSubTitle",e.lcZ(1,2,"ERRORS.BOARDS")),e.xp6(4),e.hij(" ",e.lcZ(5,4,"AUTH.BACK")," "))}function H(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"h3",29,30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onTitleClick(r.title,r._id))}),e._uU(2),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.title)}}function W(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"form",31)(1,"input",32),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.title=r)}),e.qZA(),e.TgZ(2,"span",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onSubmitForm(r))}),e.qZA(),e.TgZ(3,"span",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return r.title=a.prevTitle,a.isTitleClicked="",e.KtG(a.isForbidChangeTitle=!0)}),e.qZA()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("formGroup",n.inputForm),e.xp6(1),e.Q6J("ngModel",t.title),e.xp6(1),e.Q6J("nzType","check-circle"),e.xp6(1),e.Q6J("nzType","close-circle")("nzTheme","outline")}}function X(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",35)(1,"app-task",36),e.NdJ("deleteTask",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.deleteTask(r))}),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(1),e.Q6J("task",t)}}function V(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"h2",18),e._uU(3),e.qZA(),e.YNc(4,H,3,1,"h3",19),e.YNc(5,W,4,5,"form",20),e.TgZ(6,"button",21),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.defineColumnId(a._id))}),e._uU(7,". . ."),e.qZA(),e.TgZ(8,"nz-dropdown-menu",null,22)(10,"ul",23)(11,"li",24),e._UZ(12,"app-confirmation-modal",25),e.qZA()()()(),e.TgZ(13,"div",26),e.NdJ("cdkDropListDropped",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.dropTasks(r))}),e.YNc(14,X,2,1,"div",27),e.qZA(),e.TgZ(15,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.onTaskModalOpen(l.board._id,a._id))}),e._uU(16),e.ALo(17,"translate"),e.qZA()()}if(2&o){const t=s.$implicit,n=e.MAs(9),r=e.oxw(2);e.xp6(3),e.Oqu(t.order<10?"0"+t.order:t.order),e.xp6(1),e.Q6J("ngIf",r.isTitleClicked!==t._id),e.xp6(1),e.Q6J("ngIf",r.isTitleClicked===t._id),e.xp6(1),e.Q6J("nzDropdownMenu",n),e.xp6(6),e.Q6J("modalText","CONFIRMATION_FORM.TEXT_DELETE_COLUMN")("onDelete",r.deleteColumn),e.xp6(1),e.Q6J("cdkDropListData",t.tasks),e.xp6(1),e.Q6J("ngForOf",t.tasks),e.xp6(2),e.hij("+",e.lcZ(17,9,"BOARD.ADD_CARD"),"")}}function ee(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"app-create-column-modal",38),e.NdJ("createColumn",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.createColumn(r))})("closeOpen",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.closeOpen(r))}),e.qZA()()}}function te(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"app-create-task-modal",39),e.NdJ("createTask",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.createTask(r))})("isModalTaskOpen",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.isModalTaskOpen(r))}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("boardId",t.boardId)("columnId",t.columnId)}}const oe=function(o){return{paddingLeft:o,transition:"1.5s"}};function ne(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",8)(1,"h1",9),e._uU(2),e.qZA(),e.TgZ(3,"div",10),e.NdJ("cdkDropListDropped",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.drop(r))}),e.TgZ(4,"div",11),e.YNc(5,V,18,11,"div",12),e.qZA(),e.TgZ(6,"div",13)(7,"div",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onCreateColumn())}),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.YNc(10,ee,2,0,"div",15),e.YNc(11,te,2,2,"div",15),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.board.title),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,oe,t.isCollapsed?"100px":"260px")),e.xp6(2),e.Q6J("ngForOf",t.columns),e.xp6(2),e.Q6J("cdkDragDisabled",!0),e.xp6(1),e.hij(" ",e.lcZ(9,7,"COLUMN.BUTTON")," "),e.xp6(2),e.Q6J("ngIf",t.snowModal),e.xp6(1),e.Q6J("ngIf",t.isCreateTaskModalOpen)}}let re=(()=>{class o{constructor(t,n,r,a,l,O){this.translate=t,this.languageService=n,this.httpService=r,this.modal=a,this.activatedRoute=l,this.navigationService=O,this.isBoardIdCorrect=!0,this.param="",this.snowModal=!1,this.isCollapsed=!1,this.isTitleClicked="",this.columnTitle="Title",this.prevTitle="",this.isForbidChangeTitle=!1,this.isCreateTaskModalOpen=!1,this.boardId="",this.columnId="",this.userId="",this.boardIdForDelete="",this.deleteColumn=()=>{this.columns=this.columns.filter(u=>u._id!==this.boardIdForDelete),this.httpService.deleteColumn(this.board._id,this.boardIdForDelete).subscribe(u=>console.log(u)),this.columns.forEach(u=>{u.order=this.columns.indexOf(u)+1,this.httpService.updateColumnsSet([{order:u.order,_id:u._id}]).subscribe(v=>console.log(v))})},this.inputForm=new i.cw({myInput:new i.NI("",[i.kI.required,i.kI.maxLength(15)])})}ngOnInit(){this.languageService.language$.subscribe(t=>this.translate.use(t)),this.activatedRoute.queryParams.subscribe(t=>{this.param=t.id}),this.httpService.getBoardById(this.param).subscribe({next:t=>{this.board=t},error:()=>{this.board=void 0,this.isBoardIdCorrect=!1}}),this.httpService.getAllColumns(this.param).subscribe(t=>{this.columns=t.sort((n,r)=>n.order-r.order),this.columns.forEach(n=>{this.httpService.getAllTasks(n.boardId,n._id).subscribe(r=>{n.tasks=r.sort((a,l)=>a.order-l.order)})})}),this.navigationService.collaps.subscribe(t=>{this.isCollapsed=t})}drop(t){(0,m.bA)(this.columns,t.previousIndex,t.currentIndex),this.columns.forEach(n=>{n.order=this.columns.indexOf(n)+1}),this.columns.forEach(n=>{this.httpService.updateColumnsSet([{order:n.order,_id:n._id}]).subscribe(r=>console.log(r))})}dropTasks(t){t.previousContainer===t.container?(0,m.bA)(t.container.data,t.previousIndex,t.currentIndex):(0,m.EA)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.columns.forEach(n=>{n.tasks.forEach(r=>{r.order=n.tasks.indexOf(r)+1,this.httpService.updateTask(n.boardId,n._id,r._id,{title:r.title,order:r.order,description:r.description,columnId:n._id,userId:r.userId,users:r.users}).subscribe(a=>a)})})}onCreateColumn(){this.snowModal=!0}createColumn(t){t&&(this.httpService.createColumn(this.board._id,{title:t,order:this.columns.length+1}).subscribe(n=>{this.columns.push({title:n.title,order:n.order,boardId:n.boardId,_id:n._id,tasks:[]})}),this.snowModal=!1)}closeOpen(t){this.snowModal=t}onTitleClick(t,n){this.isForbidChangeTitle||(this.prevTitle=t,this.isTitleClicked=n,this.isForbidChangeTitle=!0)}onSubmitForm(t){t.title&&(this.isTitleClicked="",this.columns.forEach(n=>n._id===t._id?n.title=t.title:n.title),this.httpService.editColumn(this.board._id,t._id,{title:t.title,order:t.order}).subscribe(n=>n),this.isForbidChangeTitle=!1)}onTaskModalOpen(t,n){this.boardId=t,this.columnId=n,this.isCreateTaskModalOpen=!0}createTask(t){this.columns.find(n=>n._id===t.columnId).tasks.push(t)}isModalTaskOpen(t){this.isCreateTaskModalOpen=t}deleteTask(t){this.columns.forEach(n=>{n.tasks=n.tasks.filter(r=>r._id!==t._id)})}defineColumnId(t){this.boardIdForDelete=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.sK),e.Y36(f.F),e.Y36(_.f),e.Y36(z.Sf),e.Y36(g.gz),e.Y36(w.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-board"]],decls:3,vars:3,consts:[["class","spinner",4,"ngIf"],["class","error-massage","nzStatus","404","nzTitle","404",3,"nzSubTitle",4,"ngIf"],["class","board",4,"ngIf"],[1,"spinner"],["nzSimple",""],["nzStatus","404","nzTitle","404",1,"error-massage",3,"nzSubTitle"],["nz-result-extra",""],["nz-button","","nzType","primary","routerLink","/workspace"],[1,"board"],[1,"board__title"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"board__columns",3,"ngStyle","cdkDropListDropped"],["cdkDropListGroup","",2,"display","flex"],["class","column","cdkDrag","",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","gap","20px"],["cdkDrag","",1,"board__create-button",3,"cdkDragDisabled","click"],["class","overlay",4,"ngIf"],["cdkDrag","",1,"column"],[1,"column__title"],[1,"column__order"],["class","column__h3",3,"click",4,"ngIf"],["class","column__form","autofocus","",3,"formGroup",4,"ngIf"],["nz-dropdown","","nzTrigger","click",1,"column__delete",3,"nzDropdownMenu","click"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item",""],[3,"modalText","onDelete"],["cdkDropList","",1,"column__tasks",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","style","margin-bottom: 20px;",4,"ngFor","ngForOf"],[1,"column__button",3,"click"],[1,"column__h3",3,"click"],["h3",""],["autofocus","",1,"column__form",3,"formGroup"],["formControlName","myInput","type","text","autofocus","",1,"column__input",3,"ngModel","ngModelChange"],["nz-icon","","nzTheme","outline",1,"column__icon",3,"nzType","click"],["nz-icon","",1,"column__icon",3,"nzType","nzTheme","click"],["cdkDrag","",2,"margin-bottom","20px"],[3,"task","deleteTask"],[1,"overlay"],[3,"createColumn","closeOpen"],[3,"boardId","columnId","createTask","isModalTaskOpen"]],template:function(t,n){1&t&&(e.YNc(0,j,2,0,"div",0),e.YNc(1,G,6,6,"nz-result",1),e.YNc(2,ne,12,11,"section",2)),2&t&&(e.Q6J("ngIf",!n.board&&n.isBoardIdCorrect),e.xp6(1),e.Q6J("ngIf",!n.isBoardIdCorrect),e.xp6(1),e.Q6J("ngIf",n.board))},dependencies:[p.sg,p.O5,p.PC,i._Y,i.Fj,i.JJ,i.JL,U.ix,x.w,B.dQ,b.wO,b.r9,h.cm,h.RR,C.Ls,T.ml,T.ey,J.W,i.sg,i.u,g.rH,m.Wj,m.Fd,m.Zt,k.Y,E,$,K,d.X$],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Poppins,sans-serif;color:#fff;box-sizing:border-box}.board[_ngcontent-%COMP%]{height:auto;text-align:center;padding-top:20px}.board__columns[_ngcontent-%COMP%]{padding-left:260px;display:flex;flex-direction:row;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;width:100vw;height:calc(100vh - 230px);padding-bottom:20px;align-items:flex-start}.board__create-button[_ngcontent-%COMP%]{padding:15px;min-width:350px;min-height:40px;max-height:40px;margin:20px;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:hsla(0deg,0%,100%,.1);overflow:hidden;display:flex;justify-content:center;align-items:center;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.board__create-button[_ngcontent-%COMP%]:hover{cursor:pointer;background:hsla(123deg,100%,50%,.3)}[_nghost-%COMP%]{width:100vw;overflow:hidden;overflow-y:auto}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.board__columns.cdk-drop-list-dragging[_ngcontent-%COMP%]   .board__column[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px;width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:hsla(0deg,0%,100%,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsla(0deg,0%,100%,.5);border-radius:10px;width:2px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.spinner[_ngcontent-%COMP%]{text-align:center;background:rgba(0,0,0,.05);border-radius:4px;padding:30px 50px;margin:0 0 20px}.error-massage[_ngcontent-%COMP%]{margin-top:10%}.overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;justify-content:center;padding-top:20%;position:fixed;inset:0;z-index:50}.column[_ngcontent-%COMP%]{padding:15px;width:350px;flex-grow:0;flex-shrink:0;margin:20px;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:rgba(255,255,255,.1);overflow:hidden;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:20px;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);max-height:calc(100vh - 340px)}.column[_ngcontent-%COMP%]:hover{cursor:grabbing}.column__title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.column__input[_ngcontent-%COMP%]{padding-left:7px;background-color:transparent;border:1px solid rgba(255,255,255,.5);border-radius:15px;font-size:1.7em;font-weight:600;max-width:75%;outline:none}.column__form[_ngcontent-%COMP%]{max-width:75%;height:43px;display:flex;gap:5px;align-items:center}.column__icon[_ngcontent-%COMP%]:hover{cursor:pointer}.column__order[_ngcontent-%COMP%]{position:absolute;top:50px;right:50px;font-size:8em;color:#ffffff0d;pointer-events:none;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none}.column__delete[_ngcontent-%COMP%]{padding:5px;background-color:transparent;outline:none;border:none;margin-top:5px;margin-bottom:auto}.column__delete[_ngcontent-%COMP%]:hover{cursor:pointer}.column__h3[_ngcontent-%COMP%]{font-size:1.8em;color:#fff;font-weight:600;padding:2px 2px 2px 7px}.column__h3[_ngcontent-%COMP%]:hover{cursor:text}.column__button[_ngcontent-%COMP%]{justify-self:flex-end;padding:8px 20px;margin-top:auto;background:#ffffff;outline:none;color:#000;border:1px solid white;border-radius:20px;text-decoration:none;font-weight:500;box-shadow:0 5px 15px #00000080}.column__button[_ngcontent-%COMP%]:hover{cursor:pointer;background:#e6e6e6}.column__icon[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.column__tasks[_ngcontent-%COMP%]{width:100%;height:100vh;overflow-y:auto;padding-top:10px}.alert[_ngcontent-%COMP%]{color:#ffd5d6;font-size:.8rem;margin-right:auto;margin-top:-20px}']}),o})();var S=c(1135),Z=c(7579);let I=(()=>{class o{constructor(){this.isCreateBoardOpen$$=new S.X(!1),this.boards$$=new Z.x,this.isCreateBoardOpen$=this.isCreateBoardOpen$$.asObservable(),this.boards$=this.boards$$.asObservable()}stateFormBoard(t){this.isCreateBoardOpen$$.next(t)}updateBoards(t){this.boards$$.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),y=(()=>{class o{constructor(){this.storageUsers$$=new S.X([]),this.storageUsers$=this.storageUsers$$.asObservable()}getUsers(t){this.storageUsers$$.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=c(3095);let F=(()=>{class o{constructor(){this.userName$$=new Z.x,this.userName$=this.userName$$.asObservable()}setUser(t){this.userName$$.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function se(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"option",4)(1,"span",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.clickUser(a.name))}),e._uU(2),e.qZA()()}if(2&o){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(2),e.Oqu(t.name)}}let ie=(()=>{class o{constructor(t,n,r,a){this.translate=t,this.languageService=n,this.getUsersServices=r,this.setUserServices=a,this.userStorage=[],this.userName=new i.cw({name:new i.NI("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")})}ngOnInit(){this.languageService.language$.subscribe(t=>this.translate.use(t)),this.getUsersServices.storageUsers$.subscribe(t=>{this.userStorage=t}),this.userName.controls.name.valueChanges.subscribe(t=>{this.setUserServices.setUser(t.name)})}addUsers(){this.getUsersServices.storageUsers$.subscribe(t=>{this.userStorage=t})}clickUser(t){this.setUserServices.setUser(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.sK),e.Y36(f.F),e.Y36(y),e.Y36(F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-users-form"]],decls:6,vars:5,consts:[[3,"formGroup"],["formControlName","name","selected","selected",1,"input"],["ngValue","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","selected","","disabled",""],["selected","",3,"ngValue",4,"ngFor","ngForOf"],["selected","",3,"ngValue"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"select",1)(2,"option",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,se,3,2,"option",3),e.qZA()()),2&t&&(e.Q6J("formGroup",n.userName),e.xp6(3),e.Oqu(e.lcZ(4,3,"WORKSPACE.USER_SELECTION")),e.xp6(2),e.Q6J("ngForOf",n.userStorage))},dependencies:[p.sg,i._Y,i.YN,i.Kr,i.EJ,i.JJ,i.JL,i.sg,i.u,d.X$],styles:[".input[_ngcontent-%COMP%]{width:371px;height:40px;border-radius:10px;padding:10px;outline:none;border:1px solid #fff;color:#fff;background-color:#7a3c8680;text-shadow:2px 1px #000}"]}),o})();function ae(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.removeUser(a))}),e._uU(2,"X"),e.qZA(),e._UZ(3,"img",12),e.TgZ(4,"span"),e._uU(5),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(5),e.Oqu(t)}}function ce(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"button",3),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeCreateBoard())}),e._uU(3,"X"),e.qZA(),e.TgZ(4,"form",4),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createBoard())}),e._UZ(5,"input",5),e.ALo(6,"translate"),e._UZ(7,"input",6),e.ALo(8,"translate"),e._UZ(9,"app-add-users-form"),e.TgZ(10,"div",7),e.YNc(11,ae,6,1,"div",8),e.qZA(),e.TgZ(12,"button",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.formCreateBoard),e.xp6(1),e.s9C("placeholder",e.lcZ(6,6,"WORKSPACE.TITLE")),e.xp6(2),e.s9C("placeholder",e.lcZ(8,8,"WORKSPACE.OWNER")),e.xp6(4),e.Q6J("ngForOf",t.usersName),e.xp6(1),e.Q6J("disabled",t.formCreateBoard.invalid),e.xp6(1),e.hij(" ",e.lcZ(14,10,"WORKSPACE.CREATE")," ")}}let le=(()=>{class o{constructor(t,n,r,a,l){this.translate=t,this.languageService=n,this.createFormService=r,this.httpService=a,this.setUserServices=l,this.isCreationFormBoardOpen=null,this.usersName=[],this.formCreateBoard=new i.cw({title:new i.NI(null,i.kI.required),owner:new i.NI(null,i.kI.required)})}ngOnInit(){this.languageService.language$.subscribe(t=>this.translate.use(t)),this.createFormService.isCreateBoardOpen$.subscribe(t=>{this.isCreationFormBoardOpen=t}),this.setUserServices.userName$.subscribe(t=>{this.usersName.includes(t)||this.usersName.push(t)}),this.createFormService.isCreateBoardOpen$.subscribe(t=>{t||(this.usersName=[])})}closeCreateBoard(){this.createFormService.stateFormBoard(!1),this.formCreateBoard.reset()}createBoard(){const t={title:this.formCreateBoard.value.title,owner:this.formCreateBoard.value.owner,users:this.usersName};this.createFormService.stateFormBoard(!1),this.formCreateBoard.reset(),this.httpService.createBoard(t).subscribe(n=>{this.createFormService.updateBoards(n)})}removeUser(t){this.usersName=this.usersName.filter(n=>n!==t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.sK),e.Y36(f.F),e.Y36(I),e.Y36(_.f),e.Y36(F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-board"]],decls:1,vars:1,consts:[["class","section-create-board",4,"ngIf"],[1,"section-create-board"],[1,"wrapper-board"],[1,"btn-close",3,"click"],[1,"form-board",3,"formGroup","ngSubmit"],["type","text","formControlName","title",1,"input",3,"placeholder"],["type","text","formControlName","owner",1,"input",3,"placeholder"],[1,"users"],["class","user",4,"ngFor","ngForOf"],["type","submit",1,"btn-create",3,"disabled"],[1,"user"],["type","button",1,"btn-delete-user",3,"click"],["src","assets/images/user-profile.svg","width","50px","alt","user-icon"]],template:function(t,n){1&t&&e.YNc(0,ce,15,12,"div",0),2&t&&e.Q6J("ngIf",n.isCreationFormBoardOpen)},dependencies:[p.sg,p.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,ie,d.X$],styles:[".section-create-board[_ngcontent-%COMP%]{max-width:100vw;width:100%;height:100vh;position:absolute;top:0;left:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow-x:auto;width:100vw;height:calc(100vh - 200px)}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]{text-align:end;max-width:420px;gap:15px;position:absolute;top:50px;left:47%;padding:25px;background-color:#ffffff4d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:10px}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 0 15px;border-radius:20px;background-color:#00ccff80;color:#fff;border:1px outset #fff;cursor:pointer;transition:all 1s}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{border:3px inset #fff;transition:all 1s}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:371px;height:40px;border-radius:10px;padding:10px;outline:none;border:1px solid #fff}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;padding:5px 10px;justify-content:center;color:#fff}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:70px;text-align:center}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .btn-delete-user[_ngcontent-%COMP%]{border-radius:15px;background-color:#00ccff80;color:#fff;border:1px outset #fff;margin-left:40px;cursor:pointer}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .btn-delete-user[_ngcontent-%COMP%]:hover{border:3px inset #fff;transform:translate(5px,5px);transition:all 1s}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{padding:5px;width:100%;border-color:#40a9ff;background:#40a9ff;color:#fff;font-size:17px}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:disabled{background-color:#ffffff40;color:#00000080;border:none}.section-create-board[_ngcontent-%COMP%]   .wrapper-board[_ngcontent-%COMP%]   .form-board[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:valid:hover{background:hsla(123deg,100%,50%,.4);border-color:#00ff0d1a;cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:hsla(0deg,0%,100%,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsla(0deg,0%,100%,.5);border-radius:10px;width:2px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"]}),o})();const de=function(o){return{id:o}};function pe(o,s){if(1&o&&(e.TgZ(0,"div",3)(1,"p")(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"p")(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._uU(10),e.ALo(11,"slice"),e.qZA(),e.TgZ(12,"a",4),e._uU(13),e.ALo(14,"translate"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(3),e.hij("",e.lcZ(4,6,"SEARCH.TITLE"),": "),e.xp6(2),e.hij(" ",t.title,""),e.xp6(3),e.hij("",e.lcZ(9,8,"SEARCH.DESCRIPTION"),": "),e.xp6(2),e.hij(" ",t.description.length<71?t.description:e.Dn7(11,10,t.description,0,70)+"...",""),e.xp6(2),e.Q6J("queryParams",e.VKq(16,de,t.boardId)),e.xp6(1),e.Oqu(e.lcZ(14,14,"SEARCH.LINK"))}}function ue(o,s){if(1&o&&(e.TgZ(0,"div",1),e.YNc(1,pe,15,18,"div",2),e.ALo(2,"async"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.searchResult))}}let me=(()=>{class o{constructor(t,n){this.searchService=t,this.translate=n,this.searchResult=this.searchService.getSearchResult()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.o),e.Y36(d.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-results"]],decls:5,vars:7,consts:[["class","search-results","style","width: 100%",4,"ngIf"],[1,"search-results",2,"width","100%"],["class","search-item","style","width: 200px;",4,"ngFor","ngForOf"],[1,"search-item",2,"width","200px"],["routerLink","/workspace/boards",3,"queryParams"]],template:function(t,n){1&t&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"async"),e.qZA(),e.YNc(4,ue,3,3,"div",0)),2&t&&(e.xp6(1),e.AsE("",e.lcZ(2,3,"SEARCH.RESULTS"),": ",e.lcZ(3,5,n.searchResult).length,""),e.xp6(3),e.Q6J("ngIf",n.searchResult))},dependencies:[p.sg,p.O5,g.yS,p.Ov,p.OU,d.X$],styles:["*[_ngcontent-%COMP%]{color:#fff}h2[_ngcontent-%COMP%]{margin-top:20px}.search-results[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-wrap:wrap}.search-results[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;color:#4bb4ff;margin-right:5px}.search-item[_ngcontent-%COMP%]{padding:15px;width:350px;flex-grow:0;flex-shrink:0;margin:20px;box-shadow:20px 20px 50px #00000080;border-radius:15px;background:rgba(255,255,255,.1);overflow:hidden;display:flex;justify-content:space-between;align-items:flex-start;flex-direction:column;border-top:1px solid rgba(255,255,255,.5);border-left:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"]}),o})();const _e=function(o){return{paddingLeft:o,transition:"1.5s",width:"100vw"}};function ge(o,s){if(1&o&&(e.TgZ(0,"div",2),e._UZ(1,"app-search-results"),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngStyle",e.VKq(1,_e,t.isNavigationClose?"100px":"260px"))}}function fe(o,s){if(1&o&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}const be=function(o){return{id:o}};function he(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e._uU(2," . . . "),e.qZA(),e.TgZ(3,"nz-dropdown-menu",null,11)(5,"ul",12)(6,"li",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.boardIdForDelete=a._id)}),e._UZ(7,"app-confirmation-modal",14),e.qZA()()(),e.TgZ(8,"a",15),e._uU(9),e.TgZ(10,"div",16),e._uU(11),e.qZA(),e.TgZ(12,"div"),e.YNc(13,fe,2,1,"span",17),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.MAs(4),r=e.oxw(2);e.xp6(1),e.Q6J("nzDropdownMenu",n),e.xp6(6),e.Q6J("modalText","CONFIRMATION_FORM.TEXT_DELETE_BOARD")("onDelete",r.deleteBoard),e.xp6(1),e.Q6J("queryParams",e.VKq(10,be,t._id)),e.xp6(1),e.hij(" ",t.title," "),e.xp6(2),e.hij(" ",t.owner," "),e.xp6(1),e.Tol(t.users.length>0?"users":""),e.xp6(1),e.Q6J("ngForOf",t.users)}}const xe=function(o){return{paddingLeft:o,transition:"1.5s"}};function Ce(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section",3)(1,"h1",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",5)(5,"div",6),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createForm())}),e.TgZ(6,"span",7),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.YNc(9,he,14,12,"div",8),e.qZA(),e._UZ(10,"app-create-board"),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"WORKSPACE.BOARD")),e.xp6(2),e.Q6J("ngStyle",e.VKq(8,xe,t.isNavigationClose?"100px":"260px")),e.xp6(3),e.Oqu(e.lcZ(8,6,"WORKSPACE.CREATE_BOARD")),e.xp6(2),e.Q6J("ngForOf",t.boards)}}const ke=[{path:"",component:(()=>{class o{constructor(t,n,r,a,l,O,u){this.translate=t,this.languageService=n,this.createFormService=r,this.httpService=a,this.getUsersServices=l,this.navigationService=O,this.searchService=u,this.isStateFormBoard=null,this.nameBoard=null,this.boards=[],this.users=[],this.boardIdForDelete="",this.isNavigationClose=!1,this.searchString="",this.deleteBoard=()=>{this.httpService.deleteBoard(this.boardIdForDelete).subscribe(v=>{this.boards=this.boards.filter(Te=>Te._id!==v._id)}),this.boardIdForDelete=""}}ngOnInit(){this.languageService.language$.subscribe(t=>this.translate.use(t)),this.httpService.getAllBoards().subscribe(t=>{this.boards=t}),this.createFormService.boards$.subscribe(t=>{this.boards.push(t)}),this.navigationService.collaps.subscribe(t=>{this.isNavigationClose=t}),this.searchService.results$.subscribe(t=>{this.searchResults=t}),this.searchService.searchString$.subscribe(t=>{this.searchString=t})}createForm(){this.createFormService.stateFormBoard(!0),this.httpService.getAllUsers().subscribe(t=>{this.getUsersServices.getUsers(t)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.sK),e.Y36(f.F),e.Y36(I),e.Y36(_.f),e.Y36(y),e.Y36(w.f),e.Y36(A.o))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-workspace"]],decls:2,vars:2,consts:[[3,"ngStyle",4,"ngIf"],["class","workspace",4,"ngIf"],[3,"ngStyle"],[1,"workspace"],[1,"title-boards"],[1,"boards",3,"ngStyle"],[1,"board","create-board",3,"click"],[1,"link-board"],["class","board",4,"ngFor","ngForOf"],[1,"board"],["nz-dropdown","","nzTrigger","click",1,"board__delete",3,"nzDropdownMenu"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","",3,"click"],[3,"modalText","onDelete"],["routerLink","/workspace/boards",1,"title-board",3,"queryParams"],[1,"owner"],["class","user",4,"ngFor","ngForOf"],[1,"user"]],template:function(t,n){1&t&&(e.YNc(0,ge,2,3,"div",0),e.YNc(1,Ce,11,10,"section",1)),2&t&&(e.Q6J("ngIf",n.searchString),e.xp6(1),e.Q6J("ngIf",!n.searchString))},dependencies:[p.sg,p.O5,p.PC,x.w,b.wO,b.r9,h.cm,h.RR,g.yS,k.Y,le,me,d.X$],styles:[".workspace[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative}.workspace[_ngcontent-%COMP%]   .title-boards[_ngcontent-%COMP%]{padding:20px 0;font-size:30px;font-weight:500;margin:0;color:#fff}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]{display:flex;gap:25px;align-items:flex-start;justify-content:flex-start;width:100vw;padding-left:260px;padding-bottom:65px;flex-wrap:wrap;overflow-x:auto}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{width:290px;display:flex;align-items:center;flex-direction:column;box-shadow:20px 20px 50px #0003;border-radius:15px;background:rgba(255,255,255,.1);border:1px outset rgba(255,255,255,.5);transition:1s;word-break:break-all;line-height:27px;padding:5px;gap:15px;cursor:pointer}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 10px #0006;border:1px outset rgba(255,255,255,.6);transform:translateY(10px);transition:1s}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .create-board[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .title-board[_ngcontent-%COMP%]{border-radius:10px;font-size:25px;color:#fff;width:100%;text-align:center;padding:5px 0;text-shadow:1px -1px #030000;font-weight:600;text-transform:capitalize}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .link-board[_ngcontent-%COMP%]{color:#fff}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%], .workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{height:auto;font-size:15px;border-bottom:2px solid rgba(255,255,255,.7);background:rgba(0,0,0,.1);border-radius:10px;padding-left:10px;width:70%;text-align:end;padding-right:15px;display:flex;flex-wrap:wrap;justify-content:flex-start}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]{font-size:18px;margin:15px 0 10px;width:80%;text-align:start}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{gap:5px;text-align:left}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background-color:#fff3;border:0;padding:5px 0;border-radius:10px;width:100%;color:#fff;cursor:pointer}.workspace[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background-color:#6efa6680;font-size:20px;font-weight:500;transition:all 1s}[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:hsla(0deg,0%,100%,.1);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsla(0deg,0%,100%,.5);border-radius:10px;width:2px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{padding:0;margin:0}.board__delete[_ngcontent-%COMP%]{position:relative;font-size:1rem;line-height:100%;top:0;right:-120px;background:none;border:none;color:#fff;padding:5px;height:30px}.board__delete[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),o})()},{path:"boards",component:re}];let Oe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(ke),g.Bz]}),o})();var ve=c(7606),N=c(6960),Me=c(475);let we=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,i.u5,N.E,i.UX,Oe,ve.v,m._t,N.E,Me.I]}),o})()}}]);